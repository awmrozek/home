<html><head><title>Konfiguracja sieci bezprzewodowych WLAN</title><meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.76b+"><link rel="HOME" title="SZARP HOWTO" href="http://lucas.eggs.pl/manual/praterm-howto/howto.html"><link rel="UP" title="Linux" href="http://lucas.eggs.pl/manual/praterm-howto/system-linux.html"><link rel="PREVIOUS" title="Przypisywanie wielu adresów IP jednej karcie sieciowej. Aliasy IP" href="http://lucas.eggs.pl/manual/praterm-howto/ip-alias.html"><link rel="NEXT" title="Tworzenie po³±czeñ sieciowych w oparciu 
o protoko³y point-to-point" href="http://lucas.eggs.pl/manual/praterm-howto/point-to-point.html"><link rel="STYLESHEET" type="text/css" href="wlan_pliki/style.css"><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2"></head><body class="SECTION" link="#0000ff" alink="#0000ff" bgcolor="#ffffff" text="#000000" vlink="#840084"><div class="NAVHEADER"><table summary="Header navigation table" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><th colspan="3" align="center">SZARP HOWTO: SZARP v2.1 + RedHat lub Debian</th></tr><tr><td align="left" valign="bottom" width="10%"><a href="http://lucas.eggs.pl/manual/praterm-howto/ip-alias.html" accesskey="P">Poprzedni</a></td><td align="center" valign="bottom" width="80%">Rozdzia³ 5. Serwer</td><td align="right" valign="bottom" width="10%"><a href="http://lucas.eggs.pl/manual/praterm-howto/point-to-point.html" accesskey="N">Nastêpny</a></td></tr></tbody></table><hr align="left" width="100%"></div><div class="SECTION"><h2 class="SECTION"><a name="WLAN">5.2.15. Konfiguracja sieci bezprzewodowych WLAN</a></h2><div class="SECTION"><h3 class="SECTION"><a name="WLAN-WSTEP">5.2.15.1. Wstêp</a></h3><p><a name="WLAN-WSTEP">Sieci radiowe WLAN (Wireless Local Area Network) s± coraz popularniejsz±
alternatyw± dla tradycyjnych sieci lokalnych. Umo¿liwiaj± ³±czno¶æ na odleg³o¶æ
od kilkuset metrów nawet do kilku kilometrów (z u¿yciem specjalnej anteny), bez
potrzeby uk³adania kabli, za pomoc± fal radiowych.</a></p><p><a name="WLAN-WSTEP">Urz±dzenia dzia³aj± w pa¶mie 2.4 GHZ, zgodnie ze standardem IEEE 802.11.
Kolejne wersje tego standardu okre¶laj± coraz wiêksze przepustowo¶ci ³±cza
- wersja 802.11b zapewnia 11Mbps, obecnie wprowadzane s± wersje
 22Mbps i wiêcej. U¿ywanie wy¿ej wymienionego pasma nie wymaga w wiêkszo¶ci krajów
¶wiata (w tym w Polsce) ¿adnych zezwoleñ i koncesji.</a></p><p><a name="WLAN-WSTEP">Mo¿liwa jest zarówno wspó³praca dwóch (lub wiêcej) urz±dzeñ w trybie 
'peer-to-peer', jak i tworzenie sieci z tzw. punktem dostêpowym, czyli
centraln± jednostk±, z któr± ³±cz± siê wszystkie urz±dzenie klienckie, ona za¶
sama czêsto pe³ni funkcjê switch'a ³±cz±cego sieæ radiow± z jak±¶ sieci± "tradycyjn±".
W pierwszym przypadku mamy do czynienia z typem sieci
<span class="emphasis"><i class="EMPHASIS">Ad-Hoc</i></span>, w drugim z <span class="emphasis"><i class="EMPHASIS">Managed</i></span> lub
<span class="emphasis"><i class="EMPHASIS">Infrastructure</i></span> (u¿ywane s± oba okre¶lenia).</a></p><p><a name="WLAN-WSTEP">W ramach u¿ywanej czêstotliwo¶ci wyró¿nianych jest zwykle kilkana¶cie kana³ów,
odpowiadaj±cych konkretnym czêstotliwo¶ciom w ramach ogólnego pasma.
Komunikuj±ce siê urz±dzenia musz± korzystaæ z tego samego kana³u. Mo¿liwe jest
ustawienie go na sta³e przy konfiguracji sieci, wiêkszo¶æ urz±dzeñ potrafi
tak¿e skanowaæ dostêpne czêstotliwo¶ci w poszukiwaniu punktu dostêpowego.</a></p><p><a name="WLAN-WSTEP">Kolejnym wa¿nym parametrem sieci jest jej identyfikator (zwykle okre¶lany
skrótem <span class="emphasis"><i class="EMPHASIS">ESSID</i></span>) - jest to dowolna nazwa (tekst), która
identyfkuje sieæ - wszystkie komunikuj±ce siê urz±dzenia musz± u¿ywaæ tego
samego identyfikatora (choæ niektóre punkty dostêpowe mo¿na skonfigurowaæ, aby
przyjmowa³y np. identyfikator 'any').</a></p><p><a name="WLAN-WSTEP">Nale¿y zwróciæ uwagê, ¿e (zw³aszcza w po³±czeniu ze skanowaniem kana³ów i
automatycznym uzyskiwaniem identyfikatora sieci) sieæ WLAN jest nara¿ona na
"nieautoryzowane" pod³±czanie siê do niej oraz pods³uchiwanie przesy³anych
danych.
Pewnym zabezpieczeniem mo¿e byæ
stosowanie szyfrowania WEP (Wireless Equivalent Privacy) bêd±cego czê¶ci± 
standardu 802.11, niemniej obecne
wersje uwa¿ane s± za zbyt s³abe aby zapewniæ bezpieczeñstwo.
Kwestie bezpieczeñstwa sieci WLAN przekraczaj± jednak zakres tego dokumentu, 
wiêcej informacji mo¿na znale¼æ np. w 
</a><a href="http://www.iss.net/wireless/WLAN_FAQ.php" target="_top">Wireless LAN Security FAQ</a>.</p></div><div class="SECTION"><h3 class="SECTION"><a name="WLAN-LINUX">5.2.15.2. Konfiguracja karty WLAN pod Linuksem</a></h3><p><a name="WLAN-LINUX">Karty sieciowe WLAN maj± zwykle postaæ albo kart PCI, albo kart PCMCIA (w
przypadku notebooków), albo modu³ów pod³±czanych przez USB. Wiêkszo¶æ
producentów do³±cza sterowniki tylko dla ró¿nych wersji Windows. Niemniej
wiêkszo¶æ obecnie produkowanych kart mo¿na zmusiæ do wspó³pracy z Linuksem.</a></p><p><a name="WLAN-LINUX">Producentów i modeli urz±dzeñ jest bardzo du¿o, natomiast wiele urz±dzeñ
opartych jest na tym samym chipsecie. Sterowniki pisane s± nie dla konkretnych
modeli urz±dzeñ, ale dla poszczególnych chipsetów. St±d te¿ podstawow±
informacj± jak± musimy uzyskaæ o karcie, to na jakim chipsecie jest ona oparta.
Nastêpnie nale¿y ustaliæ, czy dla danego chipsetu istniej± sterowniki pod
Linuksa.</a></p><p><a name="WLAN-LINUX">Pomocne mog± to byæ nastêpuj±ce strony internetowe:</a></p><p></p><ul><li><p><a href="http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Wireless.html" target="_top">Jean Tourrilhes Linux Wireless HOWTO</a> - zawiera obszern± listê urz±dzeñ,
wraz z uwagami o ich wspó³pracy z Linuksem.</p></li><li><p><a href="http://www.linux-wlan.org/" target="_top">http://www.linux-wlan.org</a> -
strona domowa projektu Linux WLAN, w ramach którego rozwijane s± linuksowe 
sterowniki do urz±dzeñ WLAN. W szczególno¶ci na stronie znajduje siê tak¿e link
do podobnej jak wy¿ej listy urz±dzeñ i ich chipsetów wraz z informacj±, czy s±
wspierane przez sterowniki tworzone w ramach projektu.</p></li><li><p><a href="http://www.wireless.org.au/%7Ejhecker/atmeldrv/usbtable.html" target="_top">http://www.wireless.org.au/~jhecker/atmeldrv/usbtable.html</a> - informacje
o urz±dzeniach z chipsetami Atmel.</p></li></ul><p>Po ustaleniu chipsetu nale¿y ¶ci±gn±æ odpowiednie sterowniki (najlepiej ¼ród³a,
gdy¿ sterowniki maj± postaæ modu³u do j±dra i mo¿e byæ problem z ich u¿yciem z
konkretn± u¿ywan± przez nas wersj± j±dra) i próbowaæ za³adowaæ modu³ zgodnie z
dokumentacj± do³±czon± do sterowników. Ten etap mo¿e ró¿nie wygl±daæ zale¿nie
od konkretnego modelu karty i sterowników. W szczególno¶ci urz±dzenia USB
wymagaj± tak¿e dzia³aj±cego wsparcia dla USB, podobnie jest z PCMCIA. Problemy
zwi±zane z ³adowaniem modu³u najlepiej ¶ledziæ analizuj±c plik
<tt class="FILENAME">/var/log/messages</tt>. Na przyk³ad u¿ywaj±c sterowników z
projektu linux-wlan nale¿y zwróciæ uwagê, jakie wersje modu³ów s± naprawdê
³adowane - zdarza siê ¿e niektóre j±dra zawieraj± ju¿ starsze wersje u¿ywanych
sterowników i s± one ³adowane zamiast zainstalowanych przez nas nowych (w takim
przypadku nale¿y nadpisaæ pliki ze starymi wersjami).</p><p>Oczywi¶cie w przypadku zmian czy dodawania modu³ów warto wykonaæ komendê 
<b class="COMMAND">depmod -a</b>. 
Zak³adam przy tym, ¿e u¿ywamy do¶æ nowej wersji j±dra (wsparcie dla
urz±dzeñ WLAN pojawi³o siê w j±drach 2.4). W RedHat i dystrybucjach pochodnych
warto utworzyæ alias dla ³adowanego modu³u z nazw± u¿ywanego urz±dzenia
sieciowego, dodaj±c do pliku <tt class="FILENAME">/etc/modules.conf</tt> wpis typu:
</p><pre class="PROGRAMLISTING">alias eth1 8211</pre>
czy
<pre class="PROGRAMLISTING">alias wlan0 prism2_usb</pre>
Umo¿liwi to automatyczne ³adowanie modu³u przez skrypt konfiguruj±ce sieæ.<p></p><p>Ostatecznym testem na poprawno¶æ za³adowania modu³u powinno byæ uruchomienie
programu <span class="APPLICATION">iwconfig</span> z pakietu wireless-tools (obecny w
nowszych dystrybucjach, w razie czego nale¿y doinstalowaæ z 
<a href="http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html" target="_top">http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html</a>). Program ten jest
podobny do programu <span class="APPLICATION">ifconfig</span>, pozwala na ustawienie
parametrów dotycz±cych interfejsów bezprzewodowych, a tak¿e wy¶wietla
informacjê o nich. Po wywo³aniu bez parametrów powinien wy¶wietliæ informacjê o
wszystkich dostêpnych interfejsach sieciowych, sprawdzaj±c czy s± to interfejsy
WLAN. Wy¶wietlana przez program informacja mo¿e mieæ np. postaæ:
</p><pre class="PROGRAMLISTING">lo        no wireless extensions.

wlan0     IEEE 802.11-b  ESSID:"SSID"  Nickname:""
          Mode:Managed  Frequency:2.437GHz  Access Point: 00:02:B3:93:28:9C
          Bit Rate:11Mb/s   Tx-Power:2346 dBm
          Retry min limit:8   RTS thr:off   Fragment thr:off
          Encryption key:off
          Link Quality:32/92  Signal level:-81 dBm  Noise level:-100 dBm
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

eth0      no wireless extensions.</pre><p></p><p>Poszczególne parametry mo¿na ustawiæ za pomoc± odpowiednich wywo³añ ifconfig:
</p><pre class="PROGRAMLISTING"># iwconfig wlan0 essid "MOJ_INDENTYFIKATOR"
# iwconfig wlan0 mode ad-hoc
# iwconfig wlan0 channel 2</pre><p></p><p>Oddzieln± spraw± jest automatyczne uruchamianie interfejsu podczas startu
systemu. Sposób uzyskania tego ró¿ni siê zale¿nie od dystrybucji. Dok³adna
instrukcja opisuj±ca wiêkszo¶æ obecnych dystrybucji jest zawarta w pliku
<tt class="FILENAME">DISTRIBUITIONS.txt</tt> 
wchodz±cym w sk³ad pakietu wireless-tools. Dla RedHata w
wersji 7.3 zaleca siê po prostu uruchomienie narzêdzia 
<span class="APPLICATION">redhat-config-network</span>, które posiada wsparcie dla
urz±dzeñ WLAN. Narzêdzie to dodaje odpowiedni wpis do
<tt class="FILENAME">/etc/modules.conf</tt> oraz tworzy odpowiedni plik, np.
<tt class="FILENAME">/etc/syconfig/network-scripts/ifcfg-wlan0</tt> o zawarto¶ci:
</p><pre class="PROGRAMLISTING">DEVICE=wlan0
BOOTPROTO=static
NETMASK=255.255.255.0
ONBOOT=yes
MODE=Ad-Hoc
ESSID=NAZWA
CHANNEL=2
IPADDR=192.168.2.101</pre><p></p></div><div class="SECTION"><h3 class="SECTION"><a name="WLAN-OVWL1120PCI">5.2.15.3. Instalacja i konfiguracja karty OvisLink AirLive 1120PCI</a></h3><p><a name="WLAN-OVWL1120PCI">Radiowa karta sieciowa OvisLink AirLive 1120PCI jest oparta na chipsecie
ADM 8211, koszt karty to ok. 170 z³ netto.
Poza sterownikami powinni¶my mieæ ¼ród³a j±dra oraz 
zainstalowany pakiet wireless-tools w wersji co najmniej 25.</a></p><p><a name="WLAN-OVWL1120PCI">Kartê instalujemy w wolnym slocie PCI, pod³±czamy antenê. Sterowniki do 
karty ¶ci±gamy ze strony  
</a><a href="http://www.admtek.com.tw/index/index/download.html" target="_top">http://www.admtek.com.tw/index/index/download.html</a> - 
¶ci±gamy najnowsz± wersjê pliku <tt class="FILENAME">ADM8211_src_WERSJA.tar.gz</tt>,
np. podczas pisania tego rozdzia³u by³a to wersja 105. 
Rozpakowujemy i kompilujemy, czyli wykonujemy kolejno w katalogu z 
plikiem nastêpuj±ce komendy:
</p><pre class="PROGRAMLISTING"># tar xzf ADM8211_src_105.tgz
# cd ADM8211
# make</pre><p></p><p>Otrzymujemy plik 8211.o, który kopiujemy do katalogu z modu³ami, zale¿nie 
od wersji j±dra powinno to byæ co¶ w stylu:
</p><pre class="PROGRAMLISTING"># cp 8211.o /lib/modules/2.4.20-9/kernel/drivers/net/wireless</pre>
Wykonujemy komendê:
<pre class="PROGRAMLISTING"># depmod -a</pre>
Komunikatem o b³êdzie nie przejmujemy siê - spowodowany jest on tym, ¿e 
modu³ 8211 nie jest rozprowadzany na licencji GPL.<p></p><p>Zak³adam, ¿e mamy ju¿ zwyk³± kartê sieciow± - interfejs eth0 i nasz 
interfejs radiowy ma mieæ nazwê eth1. Poni¿ej opisujê konfiguracjê rêczn±,
mo¿na te¿ skorzystaæ z narzêdzia
<span class="APPLICATION">redhat-config-network</span>.</p><p>Do pliku <tt class="FILENAME">/etc/modules.conf</tt> dodajemy wpis:
</p><pre class="PROGRAMLISTING">alias eth1 8211</pre><p></p><p>Nastêpnie tworzymy lub modyfikujemy plik 
<tt class="FILENAME">/etc/sysconfig/network-scripts/ifcfg-eth1</tt>:
</p><pre class="PROGRAMLISTING">DEVICE=eth1
BOOTPROTO=static
NETMASK=255.255.255.0
ONBOOT=yes
MODE=Ad-Hoc
ESSID=NAZWA
CHANNEL=2
IPADDR=192.168.2.101</pre>
Parametry, które mo¿na modyfikowaæ to:
<p></p><ul><li><p><span class="emphasis"><i class="EMPHASIS">DEVICE</i></span> - nazwa interfejsu (musi byæ zgodna z nazw± 
edytowanego pliku)</p></li><li><p><span class="emphasis"><i class="EMPHASIS">NETMASK</i></span> i <span class="emphasis"><i class="EMPHASIS">IPADDR</i></span> - 
maska i adres sieciowy, jak dla zwyk³ej karty 
sieciowej, z tym ¿e adres sieci wireless powinien byæ inny ni¿ innych 
interfejsów komputera</p></li><li><p><span class="emphasis"><i class="EMPHASIS">MODE</i></span> - warto¶æ 'Ad-Hoc' jest odpowiednia je¶li 
mamy kilka komputerów z 
kartami radiowymi komunikuj±cych siê bezpo¶rednio, je¿eli mamy punkt 
dostêpowy, ustawiamy 'Managed'.</p></li><li><p><span class="emphasis"><i class="EMPHASIS">CHANNEL</i></span> - okre¶la czêstotliwo¶æ, na jakiej 
bêdzie siê odbywa³a 
komunikacja, je¶li ustawimy 0, to karta bêdzie skanowaæ dostêpne 
czêstotliwo¶ci w celu wybrania odpowiedniej.</p></li><li><p><span class="emphasis"><i class="EMPHASIS">ESSID</i></span> - unikalna nazwa identyfikuj±ca sieæ.</p></li></ul>
Inne komputery w sieci musz± mieæ oczywi¶cie inne adresy IP, ale ten sam 
kana³ i t± sam± nazwê sieci. Je¶li chodzi o ewentualn± dalsz± 
konfiguracjê, nasza sieæ radiowa zachowujê siê jak normalny Ethernet.<p></p><p>Po dokonaniu zmian w plikach restartujemy sieæ (np. w RH komenda 
<b class="COMMAND">service network restart</b>. Polecenie 
<span class="APPLICATION">ifconfig</span> powinno nam teraz wypisaæ tak¿e 
interfejs eth1 z ustawionym adresem IP. Aby obejrzeæ szczegó³y takie jak 
si³a sygna³u, przepustowo¶æ ³±cza itp. pos³ugujemy siê programem 
<span class="APPLICATION">iwconfig</span> z pakietu wireless-tools.</p></div></div><div class="NAVFOOTER"><hr align="left" width="100%"><table summary="Footer navigation table" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" valign="top" width="33%"><a href="http://lucas.eggs.pl/manual/praterm-howto/ip-alias.html" accesskey="P">Poprzedni</a></td><td align="center" valign="top" width="34%"><a href="http://lucas.eggs.pl/manual/praterm-howto/howto.html" accesskey="H">Spis tre¶ci</a></td><td align="right" valign="top" width="33%"><a href="http://lucas.eggs.pl/manual/praterm-howto/point-to-point.html" accesskey="N">Nastêpny</a></td></tr><tr><td align="left" valign="top" width="33%">Przypisywanie wielu adresów IP jednej karcie sieciowej. Aliasy IP</td><td align="center" valign="top" width="34%"><a href="http://lucas.eggs.pl/manual/praterm-howto/system-linux.html" accesskey="U">Pocz±tek rozdzia³u</a></td><td align="right" valign="top" width="33%">Tworzenie po³±czeñ sieciowych w oparciu 
o protoko³y point-to-point</td></tr></tbody></table></div></body></html>