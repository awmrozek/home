<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Network part, also known as prefix</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Linux IPv6 HOWTO (en)"
HREF="index.html"><LINK
REL="UP"
TITLE="Address types"
HREF="chapter-addresstypes.html"><LINK
REL="PREVIOUS"
TITLE="Addresses without a special prefix"
HREF="x476.html"><LINK
REL="NEXT"
TITLE="Address types (host part)"
HREF="x659.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux IPv6 HOWTO (en)</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x476.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 3. Address types</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x659.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN513"
></A
>3.2. Network part, also known as prefix</H1
><P
>Designers defined some address types and left a lot of scope for future definitions as currently unknown requirements arise. <A
HREF="http://www.faqs.org/rfcs/rfc4291.html"
TARGET="_top"
>RFC 4291 / IP Version 6 Addressing Architecture</A
> defines the current addressing scheme.</P
><P
>Now lets take a look at the different types of prefixes (and therefore address types):</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN518"
></A
>3.2.1. Link local address type</H2
><P
>These are special addresses which will only be valid on a link of an interface. Using this address as destination the packet would never pass through a router. It's used for link communications such as:</P
><P
></P
><UL
><LI
><P
>anyone else here on this link?</P
></LI
><LI
><P
>anyone here with a special address (e.g. looking for a router)?</P
></LI
></UL
><P
>They begin with ( where <EM
>&#8220;x&#8221;</EM
> is any hex character, normally <EM
>&#8220;0</EM
>&#8221;)</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fe8<EM
>x:  &#60;- currently the only one in use</EM
>
fe9<EM
>x:</EM
>
fea<EM
>x:</EM
>
feb<EM
>x:</EM
></PRE
></FONT
></TD
></TR
></TABLE
><P
>An address with this prefix is found on each IPv6-enabled interface after stateless auto-configuration (which is normally always the case).</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN535"
></A
>3.2.2. Site local address type</H2
><P
>These are addresses similar to the <A
HREF="http://www.faqs.org/rfcs/rfc1918.html"
TARGET="_top"
>RFC 1918 / Address Allocation for Private Internets</A
> in IPv4 today, with the added advantage that everyone who use this address type has the capability to use the given 16 bits for a maximum number of 65536 subnets. Comparable with the 10.0.0.0/8 in IPv4 today.</P
><P
>Another advantage: because it's possible to assign more than one address to an interface with IPv6, you can also assign such a site local address in addition to a global one.</P
><P
>It begins with: </P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fec<EM
>x:  &#60;- most commonly used</EM
>
fed<EM
>x:</EM
>
fee<EM
>x:</EM
>
fef<EM
>x:</EM
></PRE
></FONT
></TD
></TR
></TABLE
><P
>(where<EM
> &#8220;x&#8221;</EM
> is any hex character, normally <EM
>&#8220;0</EM
>&#8221;) </P
><P
>This address type is now deprecated <A
HREF="http://www.faqs.org/rfcs/rfc3879.html"
TARGET="_top"
>RFC 3879 / Deprecating Site Local Addresses</A
>, but for a test in a lab, such addresses are still a good choice in my humble opinion.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN551"
></A
>3.2.3. Unique Local IPv6 Unicast Addresses</H2
><P
>Because the original defined site local addresses are not unique, this can lead to major problems, if two former independend networks would be connected later (overlapping of subnets). This and other issues lead to a new address type named <A
HREF="http://www.faqs.org/rfcs/rfc4193.html"
TARGET="_top"
>RFC 4193 / Unique Local IPv6 Unicast Addresses</A
>. </P
><P
>It begins with: </P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fcx<EM
>x:</EM
>
fdx<EM
>x:  &#60;- currently the only one in use</EM
></PRE
></FONT
></TD
></TR
></TABLE
><P
>A part of the prefix (40 bits) are generated using a pseudo-random algorithm and it's improbable, that two generated ones are equal.</P
><P
>Example for a prefix (generated using a web-based tool: <A
HREF="http://www.goebel-consult.de/ipv6/createLULA"
TARGET="_top"
>Goebel Consult / createLULA</A
>):</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fd0f:8b72:ac90::/48</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN563"
></A
>3.2.4. Global address type "(Aggregatable) global unicast"</H2
><P
>Today, there is one global address type defined (the first design, called "provider based," was thrown away some years ago <A
HREF="http://www.faqs.org/rfcs/rfc1884.html"
TARGET="_top"
>RFC 1884 / IP Version 6 Addressing Architecture [obsolete]</A
>, you will find some remains in older Linux kernel sources).</P
><P
>It begins with (<EM
>x</EM
> are hex characters)</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>2<EM
>xxx</EM
>: 
3<EM
>xxx</EM
>:</PRE
></FONT
></TD
></TR
></TABLE
><P
>Note: the prefix &#8220;aggregatable&#8221; is thrown away in current drafts.
There are some further subtypes defined, see below:</P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN573"
></A
>3.2.4.1. 6bone test addresses</H3
><P
>These were the first global addresses which were defined and in use. They all start with </P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>3ffe:</PRE
></FONT
></TD
></TR
></TABLE
><P
>Example:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>3ffe:ffff:100:f102::1</PRE
></FONT
></TD
></TR
></TABLE
><P
>A special 6bone test address which will never be globally unique begins with </P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>3ffe:ffff: </PRE
></FONT
></TD
></TR
></TABLE
><P
>and is mostly shown in older examples. The reason for this is, if real addresses are are shown, it's possible for someone to do a copy &#38; paste to their configuration files, thus inadvertently causing duplicates on a globally unique address. This would cause serious problems for the original host (e.g. getting answer packets for request that were never sent).
Because IPv6 is now in production, this prefix is no longer be delegated and is removed from routing after 6.6.2006 (see <A
HREF="http://www.faqs.org/rfcs/rfc3701.html"
TARGET="_top"
>RFC 3701 / 6bone Phaseout</A
> for more).</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN583"
></A
>3.2.4.2. 6to4 addresses</H3
><P
>These addresses, designed for a special tunneling mechanism [<A
HREF="http://www.faqs.org/rfcs/rfc3056.html"
TARGET="_top"
>RFC 3056 / Connection of IPv6 Domains via IPv4 Clouds</A
> and <A
HREF="http://www.faqs.org/rfcs/rfc2893.html"
TARGET="_top"
>RFC 2893 / Transition Mechanisms for IPv6 Hosts and Routers</A
>], encode a given IPv4 address and a possible subnet and begin with </P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>2002:</PRE
></FONT
></TD
></TR
></TABLE
><P
>For example, representing 192.168.1.1/5:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>2002:c0a8:0101:5::1</PRE
></FONT
></TD
></TR
></TABLE
><P
>A small shell command line can help you generating such address out of a given IPv4 one:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>ipv4="1.2.3.4"; sla="5"; printf "2002:%02x%02x:%02x%02x:%04x::1" `echo $ipv4
¬ | tr "." " "` $sla</PRE
></FONT
></TD
></TR
></TABLE
><P
>See also <A
HREF="x1191.html#TUNNELING-6TO4."
>tunneling using 6to4</A
> and <A
HREF="information-onlineinformation.html#INFORMATION-JOINIPV6-6TO4-TUNNELING"
>information about 6to4 relay routers</A
>.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN596"
></A
>3.2.4.3. Assigned by provider for hierarchical routing</H3
><P
>These addresses are delegated to Internet service providers (ISP) and begin currently with</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>2001:</PRE
></FONT
></TD
></TR
></TABLE
><P
>Prefixes to major (backbone owning) ISPs (also known as LIRs) are delegated by <A
HREF="information-onlineinformation.html#INFORMATION-MAJORREGIONREGISTRIES"
>local registries</A
> and currently have a prefix with length 32 assigned.</P
><P
>Any ISP customer can get a prefix with length 48.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN603"
></A
>3.2.4.4. Addresses reserved for examples and documentation</H3
><P
>Currently, two address ranges are reserved for examples and documentation <A
HREF="http://www.faqs.org/rfcs/rfc3849.html"
TARGET="_top"
>RFC 3849 / IPv6 Address Prefix Reserved for Documentation</A
>:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>3fff:ffff::/32
2001:0DB8::/32   EXAMPLENET-WF</PRE
></FONT
></TD
></TR
></TABLE
><P
>These address ranges should be filtered based on source addresses and should NOT be routed on border routers to the internet, if possible.</P
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN609"
></A
>3.2.5. Multicast addresses</H2
><P
>Multicast addresses are used for related services. </P
><P
>They alway start with (<EM
>xx</EM
> is the scope value)</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>ff<EM
>x</EM
>y:</PRE
></FONT
></TD
></TR
></TABLE
><P
>They are split into scopes and types:</P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN617"
></A
>3.2.5.1. Multicast scopes</H3
><P
>Multicast scope is a parameter to specify the maximum distance a multicast packet can travel from the sending entity.</P
><P
>Currently, the following regions (scopes) are defined:</P
><P
></P
><UL
><LI
><P
>ffx1: node-local, packets never leave the node.</P
></LI
><LI
><P
>ffx2: link-local, packets are never forwarded by routers, so they never leave the specified link.</P
></LI
><LI
><P
>ffx5: site-local, packets never leave the site.</P
></LI
><LI
><P
>ffx8: organization-local, packets never leave the organization (not so easy to implement, must be covered by routing protocol).</P
></LI
><LI
><P
>ffxe: global scope.</P
></LI
><LI
><P
>others are reserved</P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN634"
></A
>3.2.5.2. Multicast types</H3
><P
>There are many types already defined/reserved (see <A
HREF="http://www.faqs.org/rfcs/rfc4291.html"
TARGET="_top"
>RFC 4291 / IP Version 6 Addressing Architecture</A
> for details). Some examples are:</P
><P
></P
><UL
><LI
><P
>All Nodes Address: ID = 1h, addresses all hosts on the local node (ff01:0:0:0:0:0:0:1) or the connected link (ff02:0:0:0:0:0:0:1).</P
></LI
><LI
><P
>All Routers Address: ID = 2h, addresses all routers on the local node (ff01:0:0:0:0:0:0:2), on the connected link (ff02:0:0:0:0:0:0:2), or on the local site (ff05:0:0:0:0:0:0:2)</P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN643"
></A
>3.2.5.3. Solicited node link-local multicast address</H3
><P
>Special multicast address used as destination address in neighborhood discovery, because unlike in IPv4, ARP no longer exists in IPv6.</P
><P
>An example of this address looks like</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>ff02::1:ff00:1234</PRE
></FONT
></TD
></TR
></TABLE
><P
>Used prefix shows that this is a link-local multicast address. The suffix is generated from the destination address. In this example, a packet should be sent to address &#8220;fe80::1234&#8221;, but the network stack doesn't know the current layer 2 MAC address. It replaces the upper 104 bits with &#8220;ff02:0:0:0:0:1:ff00::/104&#8221; and leaves the lower 24 bits untouched. This address is now used `on-link' to find the corresponding node which has to send a reply containing its layer 2 MAC address.</P
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN649"
></A
>3.2.6. Anycast addresses</H2
><P
>Anycast addresses are special addresses and are used to cover things like nearest DNS server, nearest DHCP server, or similar dynamic groups. Addresses are taken out of the unicast address space (aggregatable global or site-local at the moment). The anycast mechanism (client view) will be handled by dynamic routing protocols.</P
><P
>Note: Anycast addresses cannot be used as source addresses, they are only used as destination addresses.</P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN653"
></A
>3.2.6.1. Subnet-router anycast address</H3
><P
>A simple example for an anycast address is the subnet-router anycast address. Assuming that a node has the following global assigned IPv6 address:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>2001:db8:100:f101:210:a4ff:fee3:9566/64  &#60;- Node's address</PRE
></FONT
></TD
></TR
></TABLE
><P
>The subnet-router anycast address will be created blanking the suffix (least significant 64 bits) completely:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>2001:db8:100:f101::/64  &#60;- subnet-router anycast address</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x476.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x659.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Addresses without a special prefix</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="chapter-addresstypes.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Address types (host part)</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>