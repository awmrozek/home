<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html><head><title>10.1 Administracja systemu</title></head><body><em><a href="http://rainbow.mimuw.edu.pl/SO/Linux/index10.html">Do spisu tresci tematu 10</a></em>
<h1>
<center>10.1 Administracja systemu</center>
</h1>


<br>
<h2 align="center">Spis tresci</h2>
<ul>
<li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#wstep">Wstep</a>
</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadkrtk">Zadania krotkookresowe</a>
</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadsrd">Zadania sredniookresowe</a>
</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zaddl">Zadania dlugookresowe</a>
</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadokz">Zadania wykonywane okazjonalnie</a>
</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#bezp">Bezpieczenstwo systemu</a>
</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#cron_i_at">Uslugi <strong>cron</strong> i <strong>at</strong></a>
</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#siec">Zarzadzanie sieciami TCP/IP</a>
</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#bibl">Bibliografia</a>
</li></ul>

<hr>
<h2><center><a name="wstep">Wstep</a></center></h2>
Rola administratora jest fachowa opieka nad systemem dla utrzymania jego maksymalnej efektywnosci,
ochrony jego zasobow i zapewnienia kazdemu uzytkownikowi indywidualnie wymaganych przez niego uslug i dostepu do oprogramowania.
   Zadania jakie stoja przed administratorem systemu to w ogolnosci:
<ul>
	<li>utrzymanie spojnosci systemu
	</li><li>dokonywanie okresowych skladowan systemu plikow
	</li><li>obsluga problemow zwiazanych z ograniczonymi zasobami systemu
	</li><li>dokonywanie aktualizacji systemu operacyjnego
	</li><li>zapewnienie ogolnej pomocy uzytkownikom
	</li><li>usuwanie uszkodzen w systemie
	</li><li>zapis wszystkich modyfikacji systemu i zdarzen w dzienniku systemu
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#bezp">dbanie o bezpieczenstwo systemu</a>
</li></ul>
<br>
Zadania szczegolowe mozna podzielic na wykonywane cyklicznie i niecyklicznie.<br>
Zadania cykliczne moga byc wykonywane z rozna czestotliwoscia, dlatego mozna je podzielic na 
krotkookresowe (wykonywane na przyklad codziennie), 
sredniookresowe (wykonywane na przyklad co tydzien) 
i dlugookresowe (wykonywane na przyklad co miesiac).<br>
Zadania niecykliczne to zadania wykonywane okazjonalnie, w miare potrzeb.<br>
<p><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadkrtk">Zadania krotkookresowe</a> obejmuja:
</p><ul>
	<li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadkrtk1">skladowanie systemu plikow</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadkrtk2">sprawdzanie poziomu wykorzystania  
                                                                                            systemu</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadkrtk3">usuwanie nie zakonczonych procesow i sesji uzytkownikow</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadkrtk4">sprawdzanie obszaru na dysku</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadkrtk5">sprawdzanie statusu drukarki</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadkrtk6">sprawdzanie nie zamknietych sesji</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadkrtk7">usuwanie plikow <em>core</em> i <em>*.out</em></a>
</li></ul>
<br>
<p><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadsrd">Zadania sredniookresowe</a> obejmuja:
</p><ul>
	<li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadsrd1">sprawdzanie integralnosci systemu</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadsrd2">sprawdzanie dziennika systemu</a>
</li></ul>
<br>
<p><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zaddl">Zadania dlugookresowe</a> obejmuja:
</p><ul>
	<li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zaddl1">skladowanie calego systemu</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zaddl2">archiwizacje waznych plikow</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zaddl3">ponowne ustawianie parametrow systemu</a>
</li></ul>
<br>
<p><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadokz">Zadania wykonywane okazjonalnie</a> obejmuja:
</p><ul>
	<li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadokz1">aktualizacje systemu operacyjnego</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadokz2">ustalanie zezwolen na korzystanie z
								   oprogramowania</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadokz3">zakladanie i usuwanie kont uzytkownikow</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadokz4">przylaczanie terminali do systemu</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadokz5">przylaczanie dyskow twardych</a>
	</li><li><a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadokz6">obsluge dyskietek</a>
</li></ul>
<br>
Wiele zadan wykonywanych cyklicznie mozna sobie ulatwic korzystajac z uslug systemowych 
<a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#cron_i_at">cron i at</a>.<br>
W rozdziale <a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#siec">zarzadzanie sieciami TCP/IP</a> przedstawione zostaly (bardzo pobieznie)
zagadnienia zwiazane z praca systemu w sieci.<br>
W rozdziale <a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/konf">konfiguracja systemu</a> znajduje sie przeglad parametrow systemu i informacja o tym jak je mozna zmieniac.<br>
Lokacje waznych plikow o ktorych bedzie mowa w dalszej czesci dokumentu podane sa wedlug standardu
<a href="http://www.pathname.com/fhs/1.2/fsstnd-toc.html"><strong>FSSTND</strong></a>, ktory to standard okresla organizacje katalogow oraz rozmieszczenie plikokow w Linuxie.
Oczywiscie administrator systemu nie musi stosowac sie do tego standardu i moze zorganizowac system plikow 
wedlug wlasnego uznania (co nie jest jednak zalecane).
Na koncu dokumentu znajduje sie <a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#bibl">spis materialow uzytych do jego przygotowania</a>.

<hr>
<h2><center><a name="zadkrtk">Zadania krotkookresowe</a></center></h2>

<h3><a name="zadkrtk1">Skladowanie systemu plikow</a></h3>
Skladowanie systemu plikow przeprowadza sie po to, by mozna go bylo odtworzyc 
w razie uszkodzenia.
Stosuje sie dwa sposoby skladowania systemu plikow: <br>
systematyczne i niesystematyczne.
<p>Skladowanie systematyczne polega na regularnym wykonywaniu kopii systemu plikow zgodnie z wczesniej ustalonym planem.
Stosuje sie przy tym rozne poziomy skladowania. Skladowanie na poziomie 0 oznacza tworzenie kopii calego systemu plikow,
natomiast na pozostalych poziomach tworzenie kopii plikow, ktore ulegly zmianie od wykonania skladowania na poziomie o
jeden nizszym (tzw. kopia przyrostowa). Im wyzszy poziom skladowania tym wieksza czestotliwosc wykonywania kopii.
</p><p>Skladowanie niesystematyczne polega na skladowaniu calego systemu plikow i wykonuje sie je na przyklad po kazdej
wiekszej modyfikacji systemu, niezaleznie od ustalonego wczesniej planu skladowania systematycznego.
</p><p>Do skladowania i odtwarzania systemu plikow mozna uzywac polecen <strong>tar</strong> lub <strong>cpio</strong>.
Istnieja tez bardziej zaawansowane programy wspomagajace skladowanie systemu plikow jak na przyklad <strong>Cheyenne Arcserve</strong>. 

</p><h3><a name="zadkrtk2">Kontrola i strojenie poziomu wykorzystania systemu</a></h3>
Jenym z wazniejszych zadan administratora systemu jest sprawdzanie poziomu wykorzystania systemu oraz
lokalizacja tych elementow systemu, ktore obnizaja jego wykorzystanie.
Do oszacowania obciazenia systemu mozna uzyc polecenia <strong>uptime</strong>.
Podaje ono okres czasu, ktory minal od uruchomienia systemu, liczbe uzytkownikow oraz trzy srednie wartosci obciazenia.
Srednie obciazenie jest przyblizona miara wykorzystania CPU. Trzy wyswietlane wartosci podaja srednia liczbe procesow
aktywnych w ciagu ostatniej munuty, ostatnich 5 i ostatnich 15 minut.
Do zbadania aktualnego wykorzystania pamieci mozna uzyc polecenia <strong>vmstat</strong>.
Najwazniejsze dane statystyczne uzyskane dzieki temu poleceniu to liczba dzialajacych procesow oraz liczba
wystapien stronnicowania i slapowania. Mozna ta informacje wykorzystac do
zbadania, czy system nadmiernie nie stronnicuje
(informacja o liczbie stron przeniesionych na dysk znajduje sie w kolumnie <em>po</em>).
Administrator moze ograniczac zasoby dla procesow, a takze zmieniac ich priorytety, dzieki temu mozna radzic sobie
w sytuacjach gdy system jest przeciazony.
Polocenie <strong>renice</strong> pozwala zmniejszyc badz zwiekszyc priorytet procesu.<br>
Zasoby, ktore mozna ograniczac to:<br>
<ul>
	<li>calkowity zakumulowany czas CPU,
	</li><li>maksymalny rozmiar pliku,
	</li><li>maksymalny rozmiar segmentu danych procesu,
       	</li><li>maksymalny rozmiar pliku <em>core</em>,
	</li><li>maksymalna wielkosc pamieci, ktora moze byc uzyta przez proces,
	</li><li>maksymalna liczba otwartych plikow,
	</li><li>maksymalna wielkosc pamieci wirtualnej,
	</li><li>maksymalna liczba procesow,
	</li><li>maksymalny rozmiar segmentu danych,
	</li><li>rozmiar lacza komunikacyjnego pipe
</li></ul>
Istnieja dwa rodzaje ograniczen - miekkie i twarde. Pierwsze z nich sa
stosowane jako domyslne w chwili tworzenia procesu i moga byc
zmieniane przez uzytkownika, drugie to maksymalne wartosci do jakich
uzytkownik moze podwyzszyc wykorzystanie zasobow.
W Linuxie ogrniczenia twarde mozna ustawic przy pomocy wbudowanego
polecenia shell'a - <strong>ulimit</strong>.
Niestety polecenie to pozwala ustawiac ograniaczenia twarde zarowno
administratorowi jak i zwyklemu uzytkownikowi, ale raz ustawionego
ograniczenia twardego nie mozna juz powiekszyc. Jesli zatem
administrator chce ustawic ograniczenie twarde dla uzytkownika
powienien
umiescic stosowne polecenie <strong>ulimit</strong> w skrypcie startowym tegoz. Wowczas uzytkownik bedzie mogl tylko
zmniejszyc to ustawienie.<br>
Jesli Linux posiada rozszerzenie bezpieczenstwa hasel <strong>shadow</strong> to mona umieszczac wartosci ograniczen twardych w pliku <em>/etc/limits</em>.

<h3><a name="zadkrtk3">Usuwanie niezakonczonych procesow i sesji uzytkownikow</a></h3>
Nie zakonczone procesy moga powodowac zablokowanie terminala. Z problemem niezakonczonych procesow
wiaze sie takze zagadnieni niezamknietych sesji uzytkownikow.
<p>Administrator moze wykryc taka sytuacje uzywajac polecen <strong>finger</strong>, <strong>who</strong>
oraz <strong>ps</strong>, dzieki ktorym moze stwierdzic od jak dawna jakis uzytkownik nie podjal zadnych akcji
(polecenie <strong>finger</strong>), jakie procesy sa uruchomione przez danego uzytkownika, od jak dawna i na
jakim terminalu (polecenie <strong>ps</strong>). Do usuniecia niezakonczonego procesu uzywa sie polecenia
<strong>kill</strong>.<br>
Sprawdzenie niezamknietych sesji mozna przeprowadzic przy pomocy polecen <strong>who</strong> lub
<strong>finger</strong>.
</p><p>Terminal moze byc takze zablokowany przez tzw. blokade
administracyjna, zwiazana z przekroczeniem limitu niepomyslnych
relestracji ustalonego dla danego uzytkownika. Uzytkownik, ktoremu sie
to przydarzy powinien poinforomowa o tym fakcie administratora, ktory
usunie nalozona na dany terminal blokade.
</p><h3><a name="zadkrtk4">Sprawdzanie wolnego obszaru na dysku, usuwanie plikow core i *.out</a></h3>
Utrzymywanie odpowiedniej ilosci miejsca na dysku ma duzy wplyw na efektywnosc pracy systemu, dlatego
administrator powinien sprawdzac ilosc wolnego obszaru na dysku, usuwac zbedne pliki i zachecac do tego uzytkownikow.
Aby stwierdzic jaki jest stopien wykorzystania wolnego obszaru na dysku administrator moze uzyc polecenia <strong>df</strong>. Pozwala ono stwierdzic jaki procent przeznaczonego miejsca wykorzystuja poszczegolne systemy
plikow. Jesli okaze sie ze jakis system plikow ma zbyt wysoki procent wykorzystania przydzielonego mu miejsca,
mozna stwierdzic przy pomocy polecen <strong>du</strong> oraz
<strong>quot</strong> jakie pliki zajmuja najwiecej miejsca i ewentualnie je usunac lub poprosic o to ich wlascicieli.<br>
W celu zwolnienia miejsca mozna usunac takze zbedne pliki tymczasowe oraz pliki <em>core</em> i <em>*.out</em>
- pierwsze z nich zawieraja
kopie programow ktorych praca zostala przerwana z powodu bledow,
natomiast w drugich zawarta jest postac wynikowa tych programow.
Do odnajdywania plikow mozna uzyc polecenia <strong>find</strong>.

<h3><a name="zadkrtk5">Sprawdzanie statusu i zmiana konfiguracji drukarki</a></h3>
Do wykonania wiekszosci czynnosci zwiazanych z drukowaniem uzywa sie polecenia <strong>lpc</strong>.
Mozna dzieki niemu uzyskac m. in. informacje na temat statusu drukarki, zatrzymac drukowanie lub zarzadzac zadaniami 
drukowania.<br>
Opis wszystkich urzadzen obslugiwanych przez mechanizm kolejkowania (w tym drukarek) znajduje sie w pliku
<em>/etc/printcap</em>. Plik ten jest nie tylko zbiorem danych o drukarkach, lecz takze niezbednym plikiem konfiguracyjnym.<br>
Jako pozycja lp w tym pliku zdefiniowana jest drukarka domyslna.<br>
Pliki przeznaczone do druku na konkretnej drukarce przechowywane sa w
katalogu wydrukow, katalog ten jest zazwyczaj podkatalogiem katalogu <em>/usr/spool</em>. Kazda drukarka musi miec wlasny katalog wydruku.
W Linuxie demonem zarzadzajacym kolejkowaniem jest <em>/usr/lib/lpd</em>.
Jest on uruchamiany przez <em>/etc/rc</em>
w czasie ladowania systemu. Demon ten jest odpowiedzialny za
przesylanie do drukarek danych z katalogu, w ktorym oczekuja na wydruk.<br>
Polecenie <strong>lpr</strong> dodaje zadanie do kolejki wydruku kopiujac plik do odpowiedniego katalogu.
Polecenie <strong>lpq</strong> wyswietla liste zadan oczekujacych w kolejce, a polecenie <strong>lprm</strong>
usuwa zadanie z kolejki.

<h3><a name="zadkrtk6">Sprawdzanie nie zamknietych sesji</a></h3>
Patrz <a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadkrtk3">usuwanie niezakonczonych procesow i sesji uzytkownikow</a>.
	
<h3><a name="zadkrtk7">Usuwanie plikow <em>core</em> i <em>*.out</em></a></h3>
Patrz <a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadkrtk4">sprawdzanie obszaru na dysku</a>.

<hr>
<h2><center><a name="zadsrd">Zadania sredniookresowe</a></center></h2>

<h3><a name="zadsrd1">Sprawdzanie spojnosci systemu plikow</a></h3>
Pogorszenie efektywnosci systemu operacyjnego, odczuwane i zglaszane przez uzytkownikow, najczesciej jest spowodowane
brakiem spojnosci systemu plikow.<br>
W celu sprawdzenia systemu plikow trzeba przede wszystkim przejsc w tryb
pracy jednego uzytkownika, w celu uniemozliwienia dostepu do systemu innym
uzytkownikom podczas sprawdzania. Poza tym nalezy odlaczyc (polecenie <strong>umount</strong>) badany
system plikow. Sprawdzanie systemu plikow wykonuje sie przy uzyciu polecenia <strong>fsck</strong>.
Przy jego pomocy mozna takze naprawic bledy w systemie plikow.<br>
Polecenie <strong>fsck </strong> moze zlokalizowac nastepujace problemy zwiazane z systemem plikow:
<ul>
	<li>bloki nalezace do wielu plikow (i-wezlow)
	</li><li>bloki zaznaczone jako wolne lecz w rzeczywistosci uzywane
	</li><li>bloki zaznaczone jako uzywane, lecz wolne
	</li><li>niewlasciwe liczby lacznikow wystepujace w i-wezlach
	</li><li>rozbieznosc miedzy rozmiarem pliku odnotowanym w jego i-wezle, a liczba blokow przydzielonych do tego pliku
	</li><li>nielegalne bloki przypisane do plikow (zawierajace na przyklad pewne tablice systemowe)
	</li><li>niespojne dane w tablicach systemu plikow
	</li><li>pliki zagubione (nie wystepujace w zadnym katalogu). Polecenie <strong>fsck</strong> umieszcza je
                   w katalogu <em>lost+found</em> w katalogu glownym systemu plikow
	</li><li>wystepujace w katalogach numery i-wezlow, ktore sa nielegalne lub identyfikuja i-wezly nie opisujace zadnego pliku
</li></ul>
Po zakonczeniu sprawdzania i reperowania systemu plikow nalezy go ponownie przylaczyc do systemu przy uzyciu polecenia
<strong>mount</strong>.

<h3><a name="zadsrd2">Sprawdzanie dziennika systemu</a></h3>
Historia systemu operacyjnego jest zapisyswana w kilku plikach
dostepnych tylko dla administratora systemu. Pliki te tworza tak zwany
dziennik systemu. W zaleznosci od stopnia wykorzystania systemu
czestotliwosc sprawdzania dziennika systemu moze byc rozna.<br>
Dziennik systemu tworza nastepujace pliki:
<ul>
	<li><em>/etc/wtmp</em> - informacje o rejetrach uzytkownikow w systemie
	</li><li><em>/usr/adm/pacct</em> - dane o procesach
	</li><li><em>/usr/adm/messages</em> - dane o komunikatach systemowych
	</li><li><em>/etc/ddate</em> - informacje o kazdym skladowaniu systemu
	</li><li><em>/usr/spool/lp/request</em> - zapis zlecen wydruku
</li></ul>
Ze wzgledu na ograniczony rozmiar plikow, ktore tworza dziennik systemu, ich zawartosc powinna byc okresowo usuwana.

<hr>
<h2><center><a name="zaddl">Zadania dlugookresowe</a></center></h2>

<h3><a name="zaddl1">Skladowanie calego systemu</a></h3>
Patrz <a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#zadkrtk1">skladowanie systemu plikow</a>. 

<h3><a name="zaddl2">Archiwizacja waznych plikow</a></h3>
Archiwizacji waznych plikow mozna dokonac (podobnie jak przy skladowaniu systemu) przy pomocy polecen <strong>tar</strong> lub <strong>cpio</strong>.

<h3><a name="zaddl3">Ponowne ustawianie parametrow systemu</a></h3>
Patrz <a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/konf.html">konfiguracja systemu</a>.

<hr>
<h2><center><a name="zadokz">Zadania okazjonalne</a></center></h2>

<h3><a name="zadokz1">Aktualizacja systemu</a></h3>
Polega na instalowaniu nowego systemu, badz nowszych wersji narzedzi uzywanych w systemie lub aktualizacji
jadra systemu. Poniewaz nowe wersje przewaznie sa lepsze od poprzednich i maja wieksze mozliwosc, przeprowadzanie
aktualizacji systemu ma wplyw na jego wydajnosc.

<h3><a name="zadokz2">Ustalanie zezwolen na korzystanie z oprogramowania</a></h3>
Patrz <a href="http://rainbow.mimuw.edu.pl/SO/Linux/Temat10/adm.html#bezp">bezpieczenstwo systemu</a>. 

<h3><a name="zadokz3">Zakladanie i usuwanie kont uzytkownikow</a></h3>
Uzytkownik to dowolny byt, ktory moze wykonywac programy lub byc
wlascicielem plikow. Takimi uzytkownikami moga byc inne systemy
komputerowe, uruchamiane automatycznie, wypelniajace okreslone funkcje
podsystemu (na przyklad system rozliczania), lub grupy osob
wypelniajacych podobne funkcje.<br>
Kazdy uzytkownik ma identyfikujaca go <b>nazwe uzytkownika</b>. Kiedy administrator zaklada nowe konto uzytkownika, przypisuje mu jednoznaczny <b>numer identyfikacyjny uzytkownika - UID</b>.Administrator przypisuje rowniez kazdego nowego uzytkownika do jednej lub kilku grup. Kazda grupa ma <b>numer identyfikacyjny grupy - GID</b>. Identyfikatory UID oraz GID uzytkownika wyznaczaja jego prawa dostepu do plikow i innych zasobow systemowych.   
<p>
<strong>Dodawanie nowych uzytkownikow</strong>
<br>
Do dodawania nowych uzytkownikow sluzy polecenie <b>adduser</b>.<br>
Polecenie to pozwala:
</p><ul>
	<li>przydzielic uzytkownikowi nazwe, numer identyfikacyjny oraz okreslic jego grupe glowna
	</li><li>utworzyc dla uzytkownika jego katalog domowy
	</li><li>wprowadzic jego haslo
	</li><li>umiescic w katalogu domowym uzytkownika odpowiednie pliki startowe (robi sie to automatycznie)
	</li><li>wlaczyc uzytkownika do innych podsystemow, takich jak system udzialow w dysku czy poczty elektronicznej  
</li></ul>
<p>
<strong>Usuwanie konta uzytkownika.</strong>
<br>
W wielu przypadkach do uniewaznienia konta uzytkownika wystarcza umieszczenie znaku gwiazdki (*) w pliku <em>/etc/passwd.</em><br>


</p><h3><a name="zadokz4">Przylaczanie terminali do systemu</a></h3>
Aby korzystac z nowego terminala w systemie, nalezy do pliku <em>/etc/inittab</em> dodac linie zawierajaca
polecenie <strong>agetty</strong> z odpowiednimi parametrami. Poecenie to
otwiera port tty, pyta o identyfikator uzytkownika (ang. login name) i 
uruchamia <strong>/bin/login</strong>. Jako parametry podaje sie nazwe pliku specjalnego odpowiadaja za obsluge
terminala (np tty1) oraz parametry terminala.<br>
Do oslugi terminala moga byc przydatne jeszcza dwa polecenia - <strong>stty</strong>, ktore sluzy do wyswietlania
i zmieniania parametrow terminala, oraz <strong>tty</strong> wyswietlajace nazwe pliku specjalnego odpowiadajacego za
obsluge terminala.

<h3><a name="zadokz5">Przylaczanie dyskow twardych</a></h3>
W celu przygotowania nowego dysku w taki sposob, aby byl dostepy dla uzytkownikow, spelnione musza zostac nastepujace  warunki: <br>
<ul>
	<li>W systemie operacyjnym musi znalezc sie wlasciwy program, okreslany jako sterownik urzadzenia dla kontrolera dysku.
	</li><li>Dysk musi zostac sformatowany. Jezeli nie jest, mozna to robic poleceniem <b>format</b>.
	</li><li>Stworzone musza byc pliki specjalne umozliwiajace dostep do poszczegolnych partycji dysku.
	</li><li>Na kazdej zaplanowanej do uzycia partycji nalezy utworzyc Unixowy system plikow.
	</li><li>Nowy system plikow musi byc umieszczony w pliku konfiguracyjnum systemow plikow.
	</li><li>Przeprowadzone
musza byc pewne dodatkowe czynnosci zalezne od konkretnej instalacji
(takie jak na przyklad skonfigurowanie mechanizmow udzialow w dyskach).
</li></ul> 

<p>
<strong>Dodawanie dysku twardego.</strong>
<br>
Mozna dodawac drugi twardy dysk lub mozna przydzielic dysk miedzy Unixem i Dosem.<br>
Konfigurujac drugi twardy dysk (o ile nie zamierza sie tworzyc na nim partycji Dosowej) powinno sie zazadac, aby polecenie <b>fdisk</b> zarezerwowalo caly jego obszar dla systemu Unix.<br>
Podzielenie dysku miedzy Unixem i Dosem mozna robic za pomoca polecenia
<b>fdisk</b>. Polecenie <b>fdisk</b> umozliwia podzielenie dysku
maksymalnie na cztery partycje Dosowe, z ktorych nie wszystkie musza
byc uzywane przez Unix. Partycja przeznaczona dla Unixa jest sama w
sobie podzielona na partycje, ktore to dopiero beda zawieraly Unixowe
systemy plikow.<br>
W momencie tworzenia partycji zostana utworzone rowniez pliki specjalne,
odpowiadajace zakladanym systemom plikow, o nazwach <em>/dev/nazwa</em>, gdzie <b>nazwa</b> jest podana przez administratora nazwa tworzonego systemu plikow.<br>
Po zakonczeniu calego procesu konfigurowania dodatkowego dysku twardego
i zamontowaniu nowych systemow plikow nalezy sprawdzic, czy systemy
plikow zostaly zamontowane (uzywajac polecenia <b>df</b> ), jak tez czy dodane zostaly do pliku <em>/etc/fstab</em>.
</p><p>
<strong>Tworzenie nowego systemu plikow.</strong>
<br>
Podstawa tego procesu jest program o nazwie <b>mkfs</b>, ktory jest bezposrednio odpowiedzialny za utworzenie nowego systemu plikow. 


</p><h3><a name="zadokz6">Obsluga dyskietek</a></h3>
Jesli chcemy korzystac z dyskietki w Linuxie, ktora ma juz zalozony system plikow musimy ja najpierw zamontowac (polecenie <strong>mount</strong>). Po zamontowaniu dyskietke obsluguje sie jak zwykly katalog.<br>
Jesli dyskietka nie ma zalozonego systemu plikow mozna go zalozyc przy uzyciu polecenia <strong>mkfs</strong>.
Zakladanie systemu plikow mozna wykonac tylko na sformatowanej dyskietce.
Formatowanie dyskietki przeprowadza sie przy uzyciu polecenia <strong>fdformat</strong>.<br>
Bardziej szczegolowe informacje na temat dyskietek mozna znalezc w manualu pod haslem <strong>fd</strong>.<br>
W Linuxie mozna takze obslugiwac dyskietki DOSowe. Mozna je po prostu zamontowac (uzywajac <strong>mount</strong> z 
opcja <strong>-t MSDOS</strong>) i uzywac jak zwyklego katalogu, albo uzyc narzedzi zawartych w zestawie <strong>mtools</strong> (szczegoly mozna znalezc w manualu pod haslem
mtools).

<hr>
<h2><center><a name="bezp">Bezpieczenstwo systemu</a></center></h2>
Pojecie bezpieczestwo systemu jest zwykle wiazane z ochrona przed
wlamaniami, czyli podejmowanymi przez nieuprawnona osobe probami
przedostania sie do systemu .<br>
Trzeba umiec odpowiedzic na pytania: <br>
	Co probujesz chronic? <br>
	Jaka jest wartosc tego, co mogloby byc utracone?<br>
Odpowiedz: <br>
<ul>
	<li>Sam komputer moze zostac ukradzony lub uszkodzony (ang. loss of equipment).
	</li><li>Dane w komputerze moga byc utracone, uszkodzone lub skradzione (ang. loss of data).
	</li><li>Komputer
moze byc niesprawny lub niezdatny do uzytku z innego powou przez pewien
okres, a cenny czas i praca procesora stracone(ang. loss of use).
</li></ul>

<h3>Linie obrony LINUXA </h3>
<samp>Hasla (ang. passwords)</samp> zapobiegaja uzyskiwaniu dostepu do systemu przez nieupowaznionych uzytkownikow.<br>
<samp>Prawa dostepu do plikow (ang. file permissions)</samp> sa
przeznaczone do umozliwiania dostepu do roznych polecen, plikow,
programow i zasobow systemowych wylacznie okreslonym grupom
uzytkownikow.<br>

<h3>Bezpieczenstwo fizyczne</h3>
<strong>Hasla</strong>
<br>
<ul>
	<li>Dodatkowe programy identyfikacji uzytkownika.
	</li><li>Hasla telefoniczne, ktore sa w istocie drugim haslem wymagajacym przy rozpoczynaniu sesji przez modem.
	</li><li>Rozszerzone
sieciowe systemy identyfikacji uzytkownika przeznaczone do ochrony
systemow sieciowych i serwerow plikow przed zagrozeniami wlasciwymi dla
odizolowanych stacji roboczych i przed pewnymi rodzajami sieciowego
podsluchu.
</li></ul><br>

<strong>Kopie zapasowe</strong>
<br>Kopie zapasowe stanowia zabezpieczenie przed utrata danych i
uszkodzeniem systemu plikow wylacznie w polaczeniu z okresowym
monitorowaniem systemu, umozliwiajacym wczesne wykrycie problemow
dotyczacych bezpieczentwa i cofanie sie o tygodnie czy miesiac, az do
stanu "czystego". <h3>Zapobieganie niebezpieczenstwom</h3>
<strong>Zagadnienia dotyczace pliku przechowujacego hasla</strong>
<br>
Konta bez hasla mozna odszukac za pomoca polecenia <b>grep</b>.
Na przyklad: <br>
	<b>#grep  '^[^:]*::'   /etc/passwd</b>  albo<br>
	<b>#grep  ':00*:'   /etc/passwd</b>.<br>
Jezeli twoj system korzysta z pliku <em>/etc/shadow</em> mozesz stosowac
polecenie <b>grep</b> dla tego pliku. Plik <em>/etc/shadow</em> przechowuje hasla i z list dyskusyjnych dowiedzialem sie ze mozna go zainstalowac jezeli go nie ma.<br> 
Nowe konta mozna znalezc porownujac go z dobrze ukryta wresja zapasowa, na przyklad:<br>
	<b>#diff  /etc/passwd  /usr/local/bin/old_passwd</b>.<br>

Powinno byc regularnie sprawdzanie prawa wlasnosci i prawa dostepu do pliku z haslami.<br>
<b># ls -l  /etc/passwd </b>.
<p>
<strong>Powtorna identyfikacja uzytkownika przy rozpoczynaniu sesji</strong>
<br>
Uzywajac pewnego programu powtornej identyfikacji uzytkownika.

</p><p>
<strong>Efektywne wykorzystywanie grup</strong>
<br>
Grupy uzytkownikow powinny byc zdefiniowane na bazie wspoldzielenia
plikow oraz, wspoldzielenie, potrzeb ochrony plikow przed niepozadanym
dostepem.
</p><p>
<strong>Prawa dostepu</strong>
<br>Tryby dostepu do plikow SUID (ang. set user ID - rozszerzone prawa
dostepu uzytkownika) oraz SGID (ang. set group ID - rozszerzone prawa
dostepu grupy) zapewniaja metode czasowego przyznawania uzytkownikom
systemowych praw dostepu. <br>
To sie robi :<br>
	<b># chmod u+s nazwa_pliku </b>  (dostep SUID) <br>
	<b># chmod g+s nazwa_pliku  </b>(dostep GUID). <br>
Sprawdzanie systemu pod katem nowych tego typu polecen powinno byc
jednym z elementow monitorowania ogolnego bezpieczestwa systemu. Mozna
tu uzywac polecenia <b>find</b>.

</p><h3>Wykrywanie problemow</h3>
Wykrywanie niedociagniec w sferze bezpieczestwa moze rowniez przyczynic sie do unikniecia znacznie powazniejszych problemow.

<p>
<strong>Kontrolowanie systemu plikow</strong>
<br>
Obejmuje to:
</p><ul>
	<li>Sprawdzanie praw wlasnosci i ochrony plikow konfiguracyjnych systemu.
	</li><li>Sprawdzanie praw wlasnosci i ochrony waznych katalogow.
	</li><li>Weryfikacje integralnosci waznych plikow binarnych systemu.
</li></ul>
<p>
<strong>Obliczanie sum kontrolnych</strong>
<br>
<b>Suma kontrolna </b>jest liczba wyliczana z bajtow binarnych pliku,
ktora moze byc wykorzystana do sprawdzania poprawnosci zawartosci
plikow. Na przyklad mozesz generowac sumy kontrolne dla wykonywalnych
plikow polecen systemowych i nastepnie zapisywac te dane. Potem, po
pewnym czasie, mozesz obliczac je po raz drugi dla tego samego pliku i
porownywac rezultaty.<br>
Na przyklad:<br>
# <b>sum  /bin/* </b>. 
</p>
<p>
<strong>Sprawdzanie dat modyfikacji i numerow i-wezlow</strong>
<br>
To sie robi poleceniem ls: <br>

#<b> ls   -lsid  /etc/rc* </b>.
Te opcje powoduja wyswietlenie numerow i-wezlow pliku, rozmiaru (w
blokach i bajtach ), wlascicieli, daty modyfikacji oraz nazwy.
</p><p>
<strong>Sledzenie aktywnosci systemu</strong>
<br>
Regularnie sledzenie procesow w systemie jest kolejnym sposobem minimalizacji zagrozenia bezpieczenstwa.
Poleceniem <b>ps</b> mozna wypisac charakterystyki procesow w systemie.

</p><p>
<strong>Pliki rejestrujace wykorzystanie polecenia su</strong>
<br>
LINUX  zapewnia mozliwosc rejestracji prob zgloszen uzytkownikow jako superuzytkownikow. Takie informacje stosowania polecenia <b>su</b> w ten sposob sa zapisywane do pliku <em>/usr/adm/messages</em>.	


</p><p>
<strong>Rejestr konta root</strong>
<br>
Mozna zachowac pewne informacje o tym, co zostalo wykonane z konta superuzytkownika. Zmienna <b>history </b> ustala ile tych  polecen ma byc rejestrowanych w pliku <em>~/.bash_history</em>.

</p><p>
<strong>Sledzenie pracy uzytkownikow</strong>
<br>
Polecenie <b>last</b> wyprowadza wykaz, na ktory skladaja sie
nazwa uzytkownika, nazwa terminala, nazwa zdalnego komputera glownego,
czasy rozpoczecia i zakonczenia oraz calkowity czas polaczenia w
godzinach dla kazdej sesji. </p><p>
<strong>Konfiguracja rejestracji bledow</strong>
<br>
Jednym z demonow uruchamianych w czasie ladowania systemu jest <b>syslogd</b>,
odpowiedzialny za rejestracje komunikatow systemowych. Rejestruje on
komunikaty wysylane przez rozne procesy systemowe i kieruje je do
uzytkownikow zgodnie z instrukcjami zawartymi w pliku konfiguracyjnym <em>/etc/syslog.conf</em>. Pozycje w tym pliku maja nastepujacy format: <br>

 <b>nazwa_podsystem.poziom  adres</b> <br>
gdzie:<br>
	<b>nazwa_podsystem</b> to nazwa podsystemu wysylajacego komunikat<br>
	<b>poziom</b> to poziom zagrozenia <br>
	<b>adres</b> to plik, urzadzenie lub nazwa uzytkownika, do ktorego wysylane sa komunikaty.<br>
Najwazniejsze podsystemy:<br>
</p><ul>
	<li><b>kern</b> jadro systemu
	</li><li><b>mail</b> podsystem uslug pocztowych
	</li><li><b>lpr</b> podsystem drukowania
	</li><li><b>daemon</b> procesy serwera systemowego
	</li><li><b>auth</b> system identyfikacji uzytkownika przy zgloszeniu.
</li></ul>

Poziomy zagrozenia:<br>
<ul>
	<li><b>emerg</b> stan najwyzszego zagrozenia systemu
	</li><li><b>alert</b> powazne bledy
	</li><li><b>crit</b> bledy krytyczne
	</li><li><b>err</b> bledy
	</li><li><b>warn</b> ostrzezenia
	</li><li><b>notice</b> komunikaty
	</li><li><b>info</b> informacje.
</li></ul> 	

<hr>
<h2><center><a name="cron_i_at">Uslugi <strong>cron</strong> i <strong>at</strong></a></center></h2>
Usluga  <b>cron</b> pozwala szeregowac zadania w celu ich cyklicznego uruchamiania. Za pomoca <b>cron</b>
zadania zwiazane z administrowaniem sa wykonywane w sposob
niezauwazalny, bez zadnego udzialu ze strony uzytkownikow systemu.
Jednakze <b>cron</b> nie jest wlasciwym narzedziem do przesuwania zadan poza godziny szczytu; do tego celu nalezy uzyc polecenia <b>at</b>.<br>
Dla administratora systemu <b>cron</b> jest bardzo uzyteczny, jezeli chce uruchamiac polecenia i skrypty zgodnie z uprzednio przygotowanym planem.<br>
<h3>Realizacja zleconych zadan cyklicznych</h3>
Usluga <b>cron</b> jest obslugiwana przez demona <b>cron</b>. Informacja o tym, co i kiedy ma byc uruchomione, jest przekazywana do <b>cron</b> przez pozycje <b>crontaba</b>, ktore sa przechowywane w specjalnych plikach: <em>/usr/lib/crontab</em>. Poniewaz tylko <b>root</b> ma zazwyczaj dostep do tego pliku, wszystko co jest zwazane z <b>cronem</b> musi odbywac sie za posrednictwem administratora systemu.<br>
Kazda pozycja w pliku crontaba ma nastepujaca postac:<br>
<b>min  godz  dzien_miesiaca  miesiac  dzien_tygodnia  nazwa_uzytkownika  cmd</b>.
<h3>Problemy bezpieczenstwa zwiazane z cronem</h3>
Istnieja dwa problemy bezpiecenstwa zwiazane z <b>cronem</b>:
upewnienie sie, ze pliki crontaba sa bezpieczne, oraz sprawdzenie, czy
nieuprawnieni uzytkownicy nie uruchamiaja jakichs polecen wykorzystujac
<b>cron</b>.
<hr>

<h2><center><a name="siec">Zarzadzanie sieciami TCP/IP</a></center></h2>
Ta czesc pokaze wykonywanie codziennych zadan zwiazanych z zarzadzaniem
siecia, wlaczajac w to monitorowanie sieci, dodawanie nowych systemow
do sieci , a takze montowanie zdalnych zasobow dyskowych i
udostepnienie zasobow lokalnych za pomoca NFS( <em>ang. Network File System</em>).<br>
TCP/IP daje uzytkownikowi mozliwosc wykonywania wielu polecen w zdalnym systemie. Naiwazniejsze z nich to:<br>
<ul>
	<li> <b>rcp</b> pozwala uzytkownikowi kopiowac pliki miedzy systemami UNIX
	</li><li><b>rlogin</b> pozwala uzytkownikowi zalogowac sie w zdalnym systemie podczas trwania jego lokalnej sesji na terminalu<br>
	</li><li><b>rsh</b> pozwala uzytkownikowi wykonac pojedyncze plecenia w zdalnym systemie UNIX
	</li><li><b>telnet</b>
pozwala uzytkownikowi zalogowac sie w dowolnym dostepnym systemie
zdalnym, w ktorym zostalo dla tego uzytkownika utworzone konto.
Moga to byc zarowno systemy typu UNIX, jak i inne. Jest to uogolniony
przypadek polecenia <b>rlogin</b>.
</li></ul>
<h3>Tablica nazw systemow</h3>
Plik <em>/etc/hosts</em> zawiera liste systemow polaczonych w siec lokalna ( wlaczajac  w to system lokalny). 
<h3>Demony sieciowe</h3>
Obsluga sieci TCP/IP jest w UNIXie mozliwa dzieki dzialaniu demonow. Sa
to programy dzialajace w tle, ktore badz to sluza bezposrednio obsludze
sieci, badz tez zarzadzaja tablicami uzywanymi przez inne programy
sieciowe.<br>
Najwazniejsze demony:<br>
<ul>
	<li><b>inetd</b> Ten demon jest podstawowym serverem w TCP/IP.
Jest on odpowiedzialny za nadzorowznie wszystkich operacji w sieci.
Wykonuje swoje zadania przez nadzorowanie wszystkich innych demonow w
systemie. Zadania obslugiwane przez <b>inetd</b> sa wymienione w pliku <em>/etc/inetd.conf</em>.<br>
	</li><li><b>rwhod</b> Demon obslugujacy sieciowa wersje polecenia <b>who</b>.
Przesyla co pewien czas do wszystkich systemow w sieci informacje
mowiaca o tym , kto pracuje w danym systemie, jak dlugo trwaja sesje
poszczegolnych uzytkownikow, jak dlugo pracuje dany system itp.
Informacje te mozna otrzymac korzystajac z polecen <b>rwho</b> i <b>ruptime</b>.<rb>
	</rb></li><li><b>routed</b>
Demon ten zarzadza dynamiczna informacj o sieciach, z ktorymi
komunikuje sie system, uzywana do okreslenia tras, ktorymi przesylane
sa dane.<br>
	</li><li><b>named</b> Jesli named jest aktywny, w pliku <em>/etc/hosts</em> musza znajdowac sie tylko nazwy systemow z sieci lokalnej oraz nazwy systemow, z ktorymi czesto sie laczysz.<br> 
	</li><li><b>timed</b>
Demon dbajacy o synchronizacje zegarow systemowych w sieci. Moze
dzialac jako proces nadrzedny- przyjmuje sie wtedy, ze wskazywany przez
niego czas jest poprawny. Inne systemy beda wiec synchronizowaly swoj
czas na podstawie jego wskazan. Moze on takze dzialac jako proces
podrzedny, pobierajacy wlasciwy czas od procesu nadrzednego.
</li></ul>
<h3>Sledzenie sieci</h3>
Polecenie <b>netstat</b> sluzy do sledzenia dzialania systemow dzialajacych w sieci TCP/IP.
<h3>Dodawanie nowego systemu</h3>Jezeli wszystkie czynnosci polaczenia
nowego systemu sa zrobione, a demony w nowym systemie zostaly
uruchomione, mozna sprawdzac poprawnosc konfiguracji i polaczen
korzystajac z polecenia <b>ping</b>. 
<h3>Bezpieczenstwo sieci</h3>
Aby umozliwic zdalny dostep do systemu bez koniecznosci podawania
hasla, stworzono dwustopniowo system rownowaznosci systemow UNIX
polaczonych TCP/IP. System ten okresla prawa uzytkownika przez
sprawdzenie zawartosci dwoch plikow w zdalnym systemie: <em>/etc/hosts.equiv</em> i <em>.rhosts</em> w zdalnym katalogu domowym uzytkownika.	
<h3>Poziomy rownowaznosci systemow</h3>
Plik <em>/etc/hosts.equiv</em> to lista nazw systemow  rownowaznych, przy czym kazda nazwa znajduje sie w oddzielnej linii.
<h3>Rownowaznosci kont</h3>
Kazda linia pliku <em>.rhosts</em> zawiera nazwe systemu (hostname) i opcjonalnie nazwe uzytkownika:<br>

	<b>nazwa_systemu  [ nazwa_uzytkownika]</b>.
<h3>NFS</h3>
NFS wylonil sie jako standard dzielenia zasobow dyskowych pomiedzy systemami UNIX.<br>
NFS korzysta z nastepujacych plikow konfiguracyjnych:<br>
<em>/etc/fstab</em> Zdalny system plikow jest wprowadzany do pliku
konfiguracyjnego systemu plikow za pomoca nieco innej formy niz dla
zwyklych pozycji.<br>
<em>/etc/exports</em> Plik ten pozwala kontrolowac, ktore systemy plikow w systemie lokalnym moga byc dostepne z roznych systemow zdalnych.
<h3>Demony NFS</h3>
<b>nfsd</b> Obsluguje eksport plikow.<br>
<b>rcp.mountd</b> Obsluguje montowanie systemu plikow.<br>
<b>portmap</b> Realizuje pierwotne polaczenie miedzy lokalnym i zdalnym serwerem.	
<h3>Montowanie zdalnych katalogow</h3>
Jezeli NFS zostal uruchomiony, zdalny system plikow moze byc dodany do
pliku okreslajacego konfiguracje systemow plikow, tak aby mozliwe bylo
jego automatyczne montowanie podczas ladowania systemu. Opis NFS w
pliku <em>/etc/fstab</em> ma nastepujaca postac:<br>
<b>system_zdalny : zdalna_sciezka  miejsce_montowania</b> nfs <b>opcje</b> 0 0 
<hr>

<h2><center><a name="bibl">Bibliografia</a></center></h2>
<ol>
<li>Zbyszko Krolikowski, Michal Sajkowski "System operacyjny UNIX dla poczatkujacych i zaawansowanych"
</li><li>AEleen Frish "UNIX Administracja Systemu"
</li><li>Lars Wirzenius <a href="http://www.bangym.se/%7Ekenta/SAG">"Linux Systems Administrator's Guide"</a>
</li></ol>
<p>
</p><hr>
<address>
Autorzy: Marcin Dziubinski
</address>
wstep, zadania krotkookresowe, sredniookresowe, dlugookresowe i wykonywane
okazjonalnie (bez dodawania i usuwania kont uzytkownikow oraz przylaczania
dyskow twardych),<br>
<address>
i Dan Valahu
</address>
zadania wykonywane okazjonalnie: dodawanie i usuwanie kont uzytkownikow,
dolaczanie dyskow twardych,<br>
bezpieczenstwo, uslugi cron i at, zarzadzanie sieciami TCP/IP, bibliografia,<br>
<hr>


</body></html>