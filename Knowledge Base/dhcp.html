<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>


<meta name="Description" content="Wortal o tematyce sieci LAN i WLAN. Artykuły o tym jak zbudować sieci bezprzewodowe i lokalne. Z nami zbudujesz swoje komputerowe sieci bezprzewodowe oraz poznasz zabezpieczenie sieci.">
 <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 <meta http-equiv="content-language" content="pl">
 <title>Sieci bezprzewodowe wifi wlan lan - DHCP (klient-serwer)</title>
 <meta name="abstract" content="Sieci bezprzewodowe wifi wlan lan - ">
 <meta name="author" content="Grzegorz Malec">
 <meta name="copyright" content="Copyright (c) 2003-2009 by Grzegorz Malec. All rights reserved.">
 <meta http-equiv="last-modified" content="Sat, 09 Feb 2008 17:20:51 +0100">
 <meta name="distribution" content="global">
 <meta name="rating" content="general">
 <meta name="gmapkey" content="ABQIAAAATHlEPcEjlaOVBbl3hAih5xSCipRF7c95Y7oXHbDT8JTwO0PaDRTU9loAjaq4zJ2Jof4w8k8ZFAcRVg">

 <link rel="shortcut icon" href="http://skretka.net/favicon.ico" type="image/x-icon">

<!-- -- Sieci Bezprzewodowe wifi lan wlan linux ---->
<meta name="page-topic" content="Sieci Bezprzewodowe wifi lan wlan sieci lokalne">
<meta name="revisit-after" content="5 days">
<link rel="stylesheet" type="text/css" href="dhcp_pliki/main.css" media="screen">
<link rel="stylesheet" type="text/css" href="dhcp_pliki/print.css" media="print">
<!--[if lte IE 6]>
<link rel="stylesheet" type="text/css" href="templates/mollio/css/ie6_or_less.css" />
<![endif]-->
<script type="text/javascript" src="dhcp_pliki/common.js"></script>
</head><body id="type-c">
<div id="wrap">

	<div id="header">
<div id="site-name">
<iframe style="display: none;" id="a8ba48bd" name="a8ba48bd" src="dhcp_pliki/afr.htm" framespacing="0" frameborder="no" height="100" scrolling="no" width="750">&lt;a
href='http://reklama.skretka.net/www/delivery/ck.php?n=a5b10f8e&amp;amp;cb=INSERT_RANDOM_NUMBER_HERE'
target='_blank'&gt;&lt;img
src='http://reklama.skretka.net/www/delivery/avw.php?cb=INSERT_RANDOM_NUMBER_HERE&amp;amp;n=a5b10f8e'
border='0' alt='' /&gt;&lt;/a&gt;</iframe>
<script style="display: none;" type="text/javascript" src="dhcp_pliki/ag.php"></script>

<div align="right"><b>skretka.net</b></div>
</div>

<ul id="nav">
<li class="first"><a href="http://skretka.net/home-sieci-bezprzewodowe.html" title="Serwis sieci lokalne">Strona główna</a></li>
<li><a href="http://skretka.net/artykuly.html" title="Artykuły">Artykuły</a>  <ul>
  <li class="first"><a href="http://skretka.net/linux.html" title="Linux">Linux</a></li>
  <li><a href="http://skretka.net/software.html" title="Software">Software</a></li>
  <li><a href="http://skretka.net/przewody-i-koncowki.html" title="Przewody i końcówki">Przewody i końcówki</a></li>
  <li><a href="http://skretka.net/microsoft-support.html" title="Microsoft Support">Microsoft Support</a></li>
  <li><a href="http://skretka.net/konfiguracja.html" title="Konfiguracja">Konfiguracja</a></li>
  <li><a href="http://skretka.net/teoria.html" title="Teoria">Teoria</a></li>
  <li class="last"><a href="http://skretka.net/testy.html" title="Testy">Testy</a></li>
  </ul>
</li>
<li><a href="http://skretka.net/download.html" title="Download">Download</a>  <ul>
  <li class="first"><a href="http://skretka.net/programy-linux.html" title="Dla Linux">Dla Linux</a></li>
  <li><a href="http://skretka.net/programy-windows.html" title="Dla Windows">Dla Windows</a></li>
  <li class="last"><a href="http://skretka.net/inne-skrypty.html" title="Skrypty inne">Skrypty inne</a></li>
  </ul>
</li>
<li><a href="http://skretka.net/slownik-sieci-bezprzewodowe.html" title="Słownik pojęć sieci bezprzewodowej">Słowniczek</a>  <ul>
  <li class="first"><a href="http://skretka.net/wpa.html" title="WPA">WPA</a></li>
  <li><a href="http://skretka.net/warchalking.html" title="Warchalking">Warchalking</a></li>
  <li><a href="http://skretka.net/wds.html" title="WDS">WDS</a></li>
  <li><a href="http://skretka.net/wimax.html" title="WiMAX">WiMAX</a></li>
  <li><a href="http://skretka.net/wi-fi-alliance.html" title="Wi-Fi Alliance">Wi-Fi Alliance</a></li>
  <li><a href="http://skretka.net/wifi.html" title="Wi-Fi">Wi-Fi</a></li>
  <li><a href="http://skretka.net/radius.html" title="RADIUS">RADIUS</a></li>
  <li><a href="http://skretka.net/mikrotik.html" title="MikroTik">MikroTik</a></li>
  <li><a href="http://skretka.net/hotspot.html" title="Hotspot">Hotspot</a></li>
  <li><a href="http://skretka.net/eirp.html" title="EIRP">EIRP</a></li>
  <li><a href="http://skretka.net/dbm.html" title="dBm">dBm</a></li>
  <li><a href="http://skretka.net/dbi.html" title="dBi">dBi</a></li>
  <li><a href="http://skretka.net/bluetooth-opis.html" title="Bluetooth">Bluetooth</a></li>
  <li><a href="http://skretka.net/ad-hoc.html" title="Ad-Hoc">Ad-Hoc</a></li>
  <li><a href="http://skretka.net/access-point.html" title="Access point">Access point</a></li>
  <li><a href="http://skretka.net/wpa2.html" title="WPA2">WPA2</a></li>
  <li><a href="http://skretka.net/wep.html" title="WEP">WEP</a></li>
  <li class="last"><a href="http://skretka.net/wardriving.html" title="Wardriving">Wardriving</a></li>
  </ul>
</li>
<li><a href="http://skretka.net/lanforum.html" title="Forum Dyskusyjne">Forum Dyskusyjne</a></li>
<li><a href="http://skretka.net/szukaj.html" title="Szukaj">Szukaj</a></li>
<li><a href="http://skretka.net/redakcja.html" title="Redakcja">Redakcja</a></li>
<li><a href="http://skretka.net/usenet.html" title="Usenet">Usenet</a></li>
<li class="last"><a href="http://skretka.net/mapa-strony.html" title="Mapa strony">Mapa strony</a></li>
</ul>

	</div>
	
	<div id="content-wrap">
	
		<div id="utility">

<!--authenticate_visitor-->
<ul id="nav-secondary">
<li class="active"><a href="http://skretka.net/dhcp.html" title="DHCP (klient-serwer)">DHCP (klient-serwer)</a></li>
<li><a href="http://skretka.net/domena-na-sdi.html" title="Domena na SDI">Domena na SDI</a></li>
<li><a href="http://skretka.net/instalacja-dsl.html" title="Instalacja DSL">Instalacja DSL</a></li>
<li><a href="http://skretka.net/freesco-na-sdi.html" title="Freesco na SDI">Freesco na SDI</a></li>
<li><a href="http://skretka.net/sdi-i-iptables.html" title="SDI + iptables">SDI + iptables</a></li>
<li><a href="http://skretka.net/status-komputerow-w-sieci.html" title="Status kompów w sieci">Status kompów w sieci</a></li>
<li><a href="http://skretka.net/wykres-komputerow-mrtg.html" title="Wykres kompów - MRTG">Wykres kompów - MRTG</a></li>
<li><a href="http://skretka.net/revdns-dla-dsl.html" title="revDNS dla DSL">revDNS dla DSL</a></li>
<li><a href="http://skretka.net/integrated-admin-tools.html" title="Integrated Admin. Tool(s)">Integrated Admin. Tool(s)</a></li>
<li><a href="http://skretka.net/konfiguracja-proftpd.html" title="Konfiguracja ProFTPd">Konfiguracja ProFTPd</a></li>
<li><a href="http://skretka.net/blokada-internetu.html" title="Blokada internetu">Blokada internetu</a></li>
<li><a href="http://skretka.net/linux-na-laptopie.html" title="Linux na laptopie">Linux na laptopie</a></li>
<li><a href="http://skretka.net/nat-maskarada-ipchains.html" title="NAT oraz maskarada - ipchains">NAT oraz maskarada - ipchains</a></li>
<li><a href="http://skretka.net/firewall-freesco.html" title="Firewall freesco, opis komend ipfwadm">Firewall freesco, opis komend ipfwadm</a></li>
<li><a href="http://skretka.net/Interfejsy-sieciowe-ifconfig-route.html" title="Interfejsy sieciowe - ifconfig, route">Interfejsy sieciowe - ifconfig, route</a></li>
<li><a href="http://skretka.net/maskarada-i-firewall-na-polopyrinie.html" title="Maskarada i firewall na Polopyrinie">Maskarada i firewall na Polopyrinie</a></li>
<li><a href="http://skretka.net/dhcp-konfiguracja.html" title="DHCP">DHCP</a></li>
<li><a href="http://skretka.net/zmiana-mac-karty-sieciowej.html" title="Zmiana MAC adresu karty sieciowej">Zmiana MAC adresu karty sieciowej</a></li>
<li><a href="http://skretka.net/routing.html" title="O routingu piszemy ...">O routingu piszemy ...</a></li>
<li><a href="http://skretka.net/konfiguracja-sdi.html" title="Konfigurowanie SDI">Konfigurowanie SDI</a></li>
<li class="last"><a href="http://skretka.net/prosty-firewall.html" title="Prosty firewall">Prosty firewall</a></li>
</ul>


		</div>
		
		<div id="content">
		
			<div id="breadcrumb">
			<a href="http://skretka.net/home-sieci-bezprzewodowe.html" title="Home">Home</a>
 / <strong>DHCP (klient-serwer)</strong>

			</div>
			
<p>Protokół DHCP został opracowany przez Dynamic Host Configuration
Working Group przy Internet Engineering Task Force. Głównym zadaniem
tego protokołu jest dynamiczne przydzielanie adresów IP. </p><p> DHCP
jest zbudowany na modelu klient-serwer, w którym dedykowany serwer DHCP
alokuje i dostarcza adresy sieciowe, jak również parametry
konfiguracyjne dla komputerów w sieci. Pod pojęciem serwer rozumiemy
komputer, który dostarcza początkowe parametry przez DHCP; pojęcie
klient stosowane jest dla komputerów, które pobierają konfigurację
poprzez DHCP z serwera. DHCP zapewnia trzy mechanizmy alokacji adresów
IP: </p><p>&nbsp;</p><li>automatyczna alokacja - DHCP przyznaje stały adres IP dla klienta; </li><li>dynamiczna alokacja - DHCP przyznaje adres IP na limitowany czas; </li><li>ręczna alokacja - adres IP klienta jest przydzielany przez administratora. <p>&nbsp;</p><p>
Jednak tylko mechanizm dynamicznej alokacji adresów IP zapewnia
powtórne użycie adresu IP, który nie jest dłużej używany przez klienta.
Użyteczne jest to wtedy, gdy klienci łączą się z siecią na określony
czas lub gdy trzeba dzielić limitowaną pulę adresów IP dla klientów,
którzy nie potrzebują stałych adresów. DHCP definiuje mechanizm, dzięki
któremu klient dostaje adres sieciowy na określony czas; adres ten może
być również przydzielany różnym klientom (nie jest przywiązany do
jednego, określonego klienta). Druga - DHCP zapewnia mechanizm
przydziału nie tylko adresu sieciowego, ale również wszystkich innych
parametrów sieciowych niezbędnych do pracy w sieci (maska, gateway,
inne). </p><p>&nbsp;</p><strong>DHCP w Linuksie - SERWER</strong> <p>&nbsp;</p><p>
Linux jest obecnie jednym z najdynamiczniej rozwijających się systemów
operacyjnych, na którym zaimplementowano większość usług sieciowych, w
tym także DHCP. Serwer DHCP na Linuksie opiera się na demonie dhcpd,
który można uruchamiać przy starcie systemu. W przypadku braku
zainstalowanego pakietu dhcpd należy go pobrać z Sieci (np. z
ftp://ftp.icm. edu. pl/pub/Linux). W systemie Red Hat 6.2 wystarczy
uruchomić program setup, wybrać opcje SysV init i zaznaczyć serwis
DHCP. Dodatkowo należy stworzyć plik konfiguracyjny dla serwera DHCP.
Przykładowy plik <strong><em>/etc/dhcpd.conf</em></strong> : </p><p>&nbsp;</p><font color="#ffff00">subnet
192.168.1.0 netmask 255.255.255.0 { range 192.168.1.10 192.168.1.250;
default-lease-time 86400; max-lease-time 259200; option subnet-mask
255.255.255.0; option broadcast-address 192.168.1.255; option routers
192.168.1.1.; option domain-name-servers 192.168.1.1; option
domain-name "nasza.domena.pl"; }</font> <p>&nbsp;</p><p> Pierwsza linia
w pliku określa, jaką podsiecią będzie zarządzać DHCP, w tym przypadku
192.168.1.0. Następna linia zawiera zakres adresów, które udostępnia
serwer DHCP od 192.168.1.10 do 192.168.1.250 (pierwszy i ostatni
udostępniany adres). Trzecia linia określa domyślny czas dzierżawy
linii, po którym klient (o ile dalej użytkuje adres IP) musi
"odświeżyć" dzierżawę od serwera. Wartość 86400 definiuje czas jednego
dnia. Czwarta linia definiuje maksymalny czas dzierżawy. Parametry w
opcjach są przekazywane klientowi do konfiguracji ustawień sieciowych,
jest tutaj maska sieci, adres rozgłoszeniowy (broadcast), numer IP
routera, numer IP serwera nazw i nazwa domeny. </p><p> Kiedy utworzony już jest plik <strong><em>/etc/dhcpd.conf</em></strong>,
należy stworzyć w katalogu /etc plik dhcp.leases zawierający informacje
o numerach IP, które zostały przydzielone. Plik ten należy stworzyć
komendą: </p><p>&nbsp;</p><font color="#ffff00">touch /etc/dhcpd.leases</font> <p>&nbsp;</p><p> Następnym krokiem jest dodanie routingu rozgłoszeniowego, można to uczynić za pomocą komendy: </p><p>&nbsp;</p><font color="#ffff00">/sbin/route add -host 255.255.255.255 dev eth0</font> <p>&nbsp;</p><p> Można tę komendę dodać do pliku <strong><em>/etc/rc.d/rc.local</em></strong>, wtedy przy każdym starcie systemu będzie on ustawiany. </p><p>
Statyczne adresy IP.Może się zdarzyć sytuacja, że kilku komputerom w
sieci trzeba za każdym razem przydzielać ten sam (statyczny) adres IP.
Czynimy to poprzez DHCP, dodając odpowiednie komendy w pliku <strong><em>/etc/dhcpd.conf</em></strong>. Na przykład: </p><p>&nbsp;</p><font color="#ffff00">host staly { hardware ethernet 00:80:C8:85:B5:D2; fixed-address 192.168.1.2; option host-name "staly"; }</font> <p>&nbsp;</p><p>
Pierwsza linijka nie zaczyna się już od słowa subnet, lecz host. Dalej
definiujemy adres ethernetowy karty sieciowej zainstalowanej w
komputerze, któremu chcemy nadać stały adres IP. Następna linijka
zawiera adres IP, a ostatnia określa nazwę komputera. Metoda ta jest
bardzo zbliżona do konfiguracji BOOTP, gdzie również podajemy adres
ethernetowy komputera, któremu chcemy nadać adres IP. Po tych
wszystkich czynnościach komputer z systemem Linux jest gotowy do
świadczenia usług serwera DHCP. </p><p> KLIENT - Linux, Windows 9x  </p><p> <strong>Linux</strong>
- Aby skonfigurować komputer z Linuksem, jako klienta DHCP należy
zainstalować pakiet dhcpcd. Jeżeli ściągnięty pakiet jest w postaci
*.tar.gz, to należy wykonać następujące komendy (x.xx określa numer
obecnej wersji): </p><p>&nbsp;</p><font color="#ffff00">tar -zxvf dhcpcd-x.xx.tar.gx cd dhcpcd-x.xx make make install</font> <p>&nbsp;</p><p>
Operacja ta rozpakuje pakiet, skompiluje go i już z prawami roota,
wykonując komendę make install, zainstaluje całość w systemie. W
przypadku systemu Red Hat i pobraniu pakietu w postaci *.rpm należy
jedynie wykonać komendę (x.xx - określa aktualny numer implementacji
DHCP pod Linuksa): </p><p>&nbsp;</p><font color="#ffff00">rpm -i dhcpcd-x.xx.rpm</font> <p>&nbsp;</p><p>
Po instalacji pakietu należy usunąć ustawienia stałego adresu IP (o ile
taki był ustawiany). W systemie Red Hat należy przeedytować pliki: </p><p>&nbsp;</p><font color="#ffff00">/etc/resolv.conf /etc/sysconfig/network /etc/sysconfig/network-scripts/ifcfg-eth0</font> <p>&nbsp;</p><p> (w linii BOOTPROTO wpisać BOOTPROTO=DHCP)</p> <p>&nbsp;</p><p> Aby komputer automatycznie pobierał właściwy adres serwera DNS, najlepiej wykonać następującą czynność: </p><p>&nbsp;</p><font color="#ffff00">mv /etc/resolv.conf /ewtc/ resolv.conf.old ln -s /etc/dhcpcd/resolv.conf /etc/resolv.conf</font> <p>&nbsp;</p><p> Po zrestartowaniu komputera numer IP powinien być już pobrany z serwera DHCP. </p><p> <strong>Windows 9x</strong>
- Konfiguracja klienta DHCP jest łatwa. W menu Start należy wybrać
Ustawienia &gt; Panel Sterowania &gt; Sieć. Następnie Dodaj &gt;
Protokół &gt; Microsoft TCP/IP. Po wybraniu Właściwości protokołu
TCP/IP pokaże się okno z zaznaczoną od razu opcją Automatycznie uzyskaj
adres IP. Po zresetowaniu komputera system Windows już sam pobierze
swój numer IP z serwera DHCP.</p></li>
			
			<div id="footer">
			<p><a href="http://skretka.net/katalog.html">Katalog</a> | <a href="http://skretka.net/lanforum.html">Forum</a> | <a href="http://skretka.net/usenet-link.html">Grupy Dyskusyjne Usenet</a> | <a href="http://skretka.net/spis-ask.html">Spis ASK</a></p>
			</div>
			
		</div>
		
		<div id="sidebar">
<!-- 			<div class="featurebox">
			<h3>Mollio for Etomite</h3>
			<p>Witaj: Gościu <a href="http://skretka.net/dhcp.html">[ Zaloguj ]</a></p>
			</div> -->
			<div class="featurebox">
			<h3>skretka.net - reklamy</h3>
			<p><script type="text/javascript"><!--
google_ad_client = "pub-6179050758021759";
/* 160x600, utworzono 08-02-12 */
google_ad_slot = "5374681171";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script style="display: none;" type="text/javascript" src="dhcp_pliki/show_ads.js">
</script></p>
			</div>
		</div>
		<!-- (C) stat24 / skretka.net -->
<script type="text/javascript">
<!--
document.writeln('<'+'scr'+'ipt type="text/javascript" src="http://s3.hit.stat24.com/_'+(new Date()).getTime()+'/script.js?id=1vCb8meJJNDHFWjWifZ_g8SZHeKWuSM_KY9S9una66D.S7/l=11"></'+'scr'+'ipt>');
//-->
</script><script type="text/javascript" src="dhcp_pliki/script.js"></script><script type="text/javascript" src="dhcp_pliki/cachedscript.js"></script>


<!-- PowerPhlogger Code START -->
<script language="JavaScript" type="text/javascript" src="dhcp_pliki/pphlogger.js"></script><script language="JavaScript" type="text/javascript" src="dhcp_pliki/pphlogger.php"></script> 
<noscript><img alt="" src="http://stat.uks-olimp.pl/pphlogger.php?id=skretka&st=img"></noscript>
<!-- PowerPhlogger Code END -->
		
	</div>
	
</div>
<script src="dhcp_pliki/toplayer_pozycjonowanyred_lib_08_02_2009.js"></script><div style="position: absolute; left: 876px; top: 500.929px; width: 500px; height: 500px; z-index: 3999; display: none;" id="ad.topl.psbrl"><object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" id="psbrf" height="500" width="500"><param name="movie" value="http://s3.hit.stat24.com/files/rbqghmjhqj/odonomkhck/redad_lambo_180x180x500x500.swf"><param name="flashvars" value="clickTag=http://ad.hit.gemius.pl/hitredir/id=Afg7yeOWH.Tw0nM0ZRhvI6e1zeCskMLgwioMA6ai09n.V7/stparam=rpjqmnkpwv/sarg=00000002432858FB,tgfopilngv/url=http%3A%2F%2Fad.hit.gemius.pl%2Fhitredir%2Fid%3D.czg7arJt4MJqCiWLoEzmMU1LaANaQOgA73.Eymbz0v.c7%2Fstparam%3Dumqshrphbe%2Furl%3Dhttp%3A%2F%2Fwww.pkobp.pl%2Findex.php%2Fid%3Doferta%2Fgrupa%3D3%2Fid_product%3D000000000000399%2Fpodgrupa%3D3%2Fsection%3Dindy%2Fidk%3D2%2Fwid%3D291703603000"><param name="quality" value="autohigh"><param name="bgcolor" value="#ffffff"><param name="wmode" value="transparent"><param name="AllowScriptAccess" value="always"><embed name="psbrf" src="dhcp_pliki/redad_lambo_180x180x500x500.swf" flashvars="clickTag=http://ad.hit.gemius.pl/hitredir/id=Afg7yeOWH.Tw0nM0ZRhvI6e1zeCskMLgwioMA6ai09n.V7/stparam=rpjqmnkpwv/sarg=00000002432858FB,tgfopilngv/url=http%3A%2F%2Fad.hit.gemius.pl%2Fhitredir%2Fid%3D.czg7arJt4MJqCiWLoEzmMU1LaANaQOgA73.Eymbz0v.c7%2Fstparam%3Dumqshrphbe%2Furl%3Dhttp%3A%2F%2Fwww.pkobp.pl%2Findex.php%2Fid%3Doferta%2Fgrupa%3D3%2Fid_product%3D000000000000399%2Fpodgrupa%3D3%2Fsection%3Dindy%2Fidk%3D2%2Fwid%3D291703603000" quality="autohigh" allowscriptaccess="always" wmode="transparent" swliveconnect="false" bgcolor="#ffffff" type="application/x-shockwave-flash" ad.topl.pluginspage="http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" height="500" width="500"></object></div></body></html>