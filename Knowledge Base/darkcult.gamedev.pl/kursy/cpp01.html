<script type="text/javascript" language="JavaScript"><!--  document.write (unescape ('%3cscript type="text/javascript" '+' src="http://kropka.onet.pl/_s/kropka/r.js?id=B8XlFCO1yU.kxYbVHvZDL8Q8HSeKoi8AdrFAxSxBYoj.s7&t=1&z=0&k=0&RR='+(new Date()).getTime()+'"%3e%3c/script%3e'));  //--></script> 
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=windows-1250">
<META NAME="Language" CONTENT="pl">
<META NAME="Author" CONTENT="Twój nocny koszmar">
<META NAME="Generator" CONTENT="Notatnik :-)">

<TITLE>Dark Cult of C++ - Kurs, cz. 1</TITLE>
<LINK REL=stylesheet HREF="kurs.css" TYPE="text/css">

<style type="text/css">
<!--
body { color: #000000; background-color: #000000; }
.cpp1-assembler { color: #00FF00; }
.cpp1-character { color: #FF00FF; }
.cpp1-comment { color: #969696; font-style: italic; }
.cpp1-float { color: #FF00FF; }
.cpp1-hexadecimal { color: #FF00FF; }
.cpp1-identifier { color: #00FF00; }
.cpp1-illegalchar { background-color: #800000; color: #FF0000; }
.cpp1-number { color: #FF00FF; }
.cpp1-octal { color: #FF00FF; }
.cpp1-preprocessor { color: #00FF00; }
.cpp1-reservedword { color: #3366FF; font-weight: bold; }
.cpp1-space { background-color: #464646; color: #FFFFFF; }
.cpp1-string { color: #FF00FF; }
.cpp1-symbol { color: #FFFF00; }
-->
</style>

</HEAD>

<BODY STYLE="font-family: Verdana; font-size: 9pt; color: #CCCCCC; background-color: #464646;">
<TABLE ALIGN=CENTER>
<TR>
<TD CLASS=TDN>
<A HREF="../index.html" TARGET="_top">Strona g³ówna</A> &nbsp;
</TR>
</TABLE>
<HR COLOR=GRAY WIDTH=90% SIZE=1>

<H2>Witaj, œwiecie!</H2>

<P>
Œwiêta tradycja ka¿e rozpoczynaæ wszelkie kursy jêzyków programowania od prostego programu, wypisuj¹cego jakiœ tekst na ekranie. Najlepiej, jeœli jest to &quot;Hello, World!&quot;. Jest to magiczne zaklêcie, gwarantuj¹ce powodzenie nauki. Niektórzy poprzedzaj¹ to jeszcze ca³¹ mas¹ nikomu niepotrzebnych bzdur, nieœwiadomi faktu, ¿e psuj¹ zaklêcie. My tego b³êdu nie pope³nimy i przejdziemy od razu do rzeczy:
</P>

<pre>
<code><span style="font: 10pt Courier New;"><span class="cpp1-preprocessor">#include &lt;iostream&gt;
#include &lt;cstdlib&gt;

</span><span class="cpp1-reservedword">using</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">namespace</span><span class="cpp1-space"> </span><span class="cpp1-identifier">std</span><span class="cpp1-symbol">;

</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">main</span><span class="cpp1-symbol">()
{</span><span class="cpp1-space"> 
    </span><span class="cpp1-identifier">cout</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-string">&quot;Hello, World!&quot;</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">endl</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 

    </span><span class="cpp1-identifier">system</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;pause&quot;</span><span class="cpp1-symbol">);</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
</span><span class="cpp1-symbol">}</span><span class="cpp1-space"> 
</span></span>
</code></pre>

<P>
Prawie ka¿dy program (albo dok³adniej: ka¿dy plik Ÿród³owy) w jêzyku C++ rozpoczyna siê od serii dyrektyw #include. S¹ to dyrektywy preprocesora. Nie bêdziemy ich na razie omawiaæ, gdy¿ nie jest to temat na pierwszy odcinek kursu. Musimy zadowoliæ siê wyt³umaczeniem, ¿e zapewniaj¹ one dostêp do poszczególnych standardowych funkcji jêzyka C++. 
</P>
<P>
Magiczna formu³ka 'using namespace std' równie¿ bêdzie czêstym goœciem naszych programów. Dziêki niej mamy nieco ³atwiejszy dostêp do elementów standardowej biblioteki C++. Wiêcej szczegó³ów na ten temat dowiemy siê w odcinku &quot;Przestrzenie nazw&quot;.
</P>
<P>
Ka¿dy program musi zawieraæ funkcjê main(). I znów na razie musimy pomin¹æ dok³adniejsze wywody, gdy¿ funkcje C++ to tak¿e rozleg³y temat :-). Doœæ, ¿e funkcja, podobnie jak my, sk³ada siê z g³owy (w przypadku funkcji zwanej raczej nag³ówkiem) oraz reszty cia³a (w przypadku funkcji zwanej po prostu cia³em). Cia³o funkcji to inaczej blok instrukcji, które ta funkcja wykonuje. Bloki w C++ oznacza siê nawiasami klamrowymi - { i }. S¹ one odpowiednikami s³ów 'Begin' i 'End' w jêzyku Pascal, co pewnie warto wiedzieæ, jeœli kiedykolwiek mieliœmy okazjê w nim programowaæ.
</P>
<P>
W bloku naszej funkcji main() s¹ trzy instrukcje. Ka¿da z nich ma zupe³nie inn¹ sk³adniê, ale jak widzimy, jest jeden wspólny element - wszystkie koñcz¹ siê œrednikiem - ';'. To kolejne podobieñstwo do Pascala.
</P>
<P class=UWAGA>
Brak œrednika koñcz¹cego instrukcjê jest jednym z najbardziej pospolitych b³êdów w C++. Co ciekawe, przytrafia siê on ca³kiem czêsto nawet doœwiadczonym programistom. Na szczêœcie wiêkszoœæ wspó³czesnych kompilatorów powiadomi nas, jeœli zapomnimy o œredniku. Niemniej warto zdawaæ sobie sprawê, ¿e pomimo znalezienia takiego b³êdu kompilator bêdzie uparcie kontynuowa³ pracê, a wtedy ca³kiem siê pogubi i w rezultacie mo¿e wypisaæ setki, tysi¹ce, a nawet wiêcej (zale¿y od d³ugoœci naszego programu) komunikatów o b³êdach!
</P>
<P>
Pora omówiæ najwa¿niejsz¹ czêœæ naszego programu, czyli instrukcjê wypisuj¹c¹ tekst na ekranie. Ró¿ni siê ona trochê od tego, co oferuje nam w tym przypadku wiêkszoœæ jêzyków programowania. Taki sposób pisania korzysta z tzw. strumieni. To jeszcze jeden, nomen omen, temat-rzeka i dok³adniej przyjrzymy mu siê w osobnym artykule. W tej chwili zaœ za³o¿ymy, ¿e cout jest obiektem, reprezentuj¹cym standardowe urz¹dzenie wyjœciowe (ekran konsoli) i ¿e &quot;wrzucamy&quot; do niego rzeczy, które maj¹ byæ wyœwietlone za pomoc¹ znaczków '&lt;&lt;'. S³ówko endl powoduje wrzucenie znaku koñca linii. Wszystkie te rzeczy (obiekt cout, operator '&lt;&lt;', funkcja endl) s¹ zadeklarowane w pliku nag³ówkowym &lt;iostream&gt; (w³aœnie dlatego go do³¹czamy na górze).
</P>
<P>
Programy konsolowe maj¹ to do siebie, ¿e po ich wykonaniu w œrodowisku graficznym okienko konsoli od razu siê zamyka. Nie zd¹¿ylibyœmy wiêc przeczytaæ naszego wspania³ego napisu. W³aœnie dlatego dodaliœmy instrukcjê system (&quot;pause&quot;). Funkcja system wykonuje polecenia systemowe. Polecenie &quot;pause&quot;, jak byæ mo¿e wiesz (albo jak mo¿esz siê przekonaæ, uruchamiaj¹c konsolê systemow¹ i wpisuj¹c do niej to polecenie) powoduje, ¿e system czeka na wciœniêcie dowolnego klawisza. Funkcja system jest zadeklarowana w nag³ówku &lt;cstdlib&gt;.
</P>
<P>
 UWAGAMo¿e siê tu nasun¹æ pytanie: &quot;A sk¹d ja mam wiedzieæ, jaki nag³ówek do czego s³u¿y i kiedy mam go do³¹czaæ dyrektyw¹ #include?&quot;. Có¿, nie jest to mo¿e najprzyjemniejszy element jêzyka C++. OdpowiedŸ brzmi odczywiœcie: w stosownej dokumentacji. Ale gdzie znaleŸæ dokumentacjê do jêzyka C++? Istnieje wiele Ÿróde³, z których mo¿na by korzystaæ w tym celu. Najbardziej przyjazna dla pocz¹tkuj¹cych oka¿e siê zapewne witryna www.cppreference.com, gdzie mamy opisane prawie wszystkie funkcje, klasy i inne elementy standardowych bibliotek C++ wraz z nag³ówkami, które musimy w³¹czyæ, by z nich korzystaæ.
</P>
<P>
Ostatnia instrukcja naszego pierwszego programu do return 0. Wiêkszoœæ funkcji w C++ koñczy swoje dzia³anie zwracaj¹c jak¹œ wartoœæ. Funkcja main() najczêœciej zwraca po prostu 0. Poniewa¿ wyjœcie z funkcji main() oznacza zakoñczenie programu, wartoœæ przez ni¹ zwrócona trafia ju¿ &quot;na zewn¹trz&quot;. Mo¿na j¹ odczytaæ np. z pliku wsadowego (.bat). Nas jednak nic a nic to w tym momencie nie obchodzi.
</P>
<H2>IDE</H2>
<P>
Mamy program, wiemy ju¿, jak dzia³a. Pozostaje tylko skompilowaæ go, zlinkowaæ i mamy gotowy plik .exe, z którym wiadomo, co mo¿emy zrobiæ. Pytanie tylko - czym i jak skompilowaæ? Najproœciej skorzystaæ z jakiegoœ IDE (Integrated Development Environment - zintegrowane œrodowisko programistyczne). Jest to zazwyczaj potê¿ny kombajn, który ³¹czy w sobie edytor, kompilator, linker, debugger i co tam jeszcze programiœcie potrzeba do szczêœcia. Jakie wiêc IDE wybraæ? Bez w¹tpienia najlepszym dostêpnym obecnie na rynku narzêdziem tego typu jest Microsoft Visual Studio .NET 2005. Nieco okrojona wersja tego IDE jest obecnie dostêpna do œci¹gniêcia za darmo ze strony producenta. Poniewa¿ jednak jest to œrodowisko przeznaczone g³ównie do profesjonalnego wykorzystania, jest te¿ ogromne i pocz¹tkuj¹cym ³atwo siê pogubiæ w g¹szczu jego mo¿liwoœci. Dlatego te¿ byæ mo¿e lepiej bêdzie siê na pocz¹tek zainteresowaæ czymœ mniejszym i ³atwiejszym w obs³udze, jak na przyk³ad Dev-C++ czy Code::Blocks.
</P>
<P>
Naszym pierwszym programem zajmiemy siê najpierw w œrodowisku Dev-C++, a nastêpnie w Visual Studio. Generalnie s¹ to dwie aplikacje najbardziej &quot;kompatybilne&quot; z tym kursem :-). Oczywiœcie nic nie stoi na przeszkodzie, abyœmy korzystali z jakiegokolwiek innego œrodowiska dla jêzyka C++ - du¿ych ró¿nic nie bêdzie.
</P>
<P>
Aby w Dev-C++ móc napisaæ program, powinniœmy najpierw stworzyæ nowy projekt. Wybieramy wiêc z menu File opcjê 'New Project', zaznaczamy ikonkê 'Console Application', wpisujemy nazwê projektu i OK. Teraz musimy jeszcze zapisaæ nowy projekt na dysku. Jak widzimy, Dev-C++ wygenerowa³ nam automatycznie prosty programik konsolowy, który na dobr¹ sprawê niewiele siê ró¿ni od naszego &quot;Hello, World!&quot;. Nie bêdziemy omawiaæ drobnych ró¿nic. Po prostu skasujemy ten wygenerowany kod, zast¹pimy go w³asnym i zbudujemy wreszcie upragniony plik .exe. To wyj¹tkowo proste zadanie - wystarczy wcisn¹æ F9 lub z menu 'Execute' wybraæ 'Compile &amp; Run'. Nasz program uruchomi siê automatycznie zaraz po zbudowaniu.
</P>
<P class=UWAGA>
Przez budowanie (ang. <span class=Inglisz>build</span>) okreœlamy tutaj wszystko to, co prowadzi do stworzenia pliku wykonywalnego .exe z plików Ÿród³owych. Jest to przede wszystkim kompilacja i linkowanie. Tak naprawdê jest jeszcze wiele innych bardziej lub mniej ukrytych procesów, ale tym wszystkim nie musimy sobie na razie zaprz¹taæ g³owy.
</P>
<P>

</P>
<P>
Pod Visual Studio rówie¿ wybieramy 'New / Project', ale tym razem czeka nas nieco d³u¿sza droga. Z drzewka po lewej musimy wybraæ 'Win32', a z okienka 'Templates' - 'Win32 Console Application'. Podajemy nazwê i folder dla projektu, po czym zostajemy zaskoczeni kolejnym okienkiem. Mo¿emy tu od razy klikn¹æ 'Finish', ale ciekawi nas, co jeszcze mo¿emy sobie wybraæ, wiêc dajemy 'Next'. Z bardziej interesuj¹cych nas w tym momencie opcji warto przyjrzeæ siê checkboksowi 'Precompiled Header'. Najlepiej je odznaczyæ, bêdziemy mieli w projekcie mniej syfu, z którego na razie nic nie rozumiemy ;-). Mo¿emy te¿ zaznaczyæ 'Empty Project', ale chcemy przekonaæ siê, co te¿ wygeneruje Visual Studio jako szkielet aplikacji konsolowej. Bêdzie to wygl¹da³o mniej wiêcej tak:
</P>

<pre>
<code><span style="font: 10pt Courier New;"><span class="cpp1-comment">// bla.cpp : Defines the entry point for the console application.
//

</span><span class="cpp1-preprocessor">#include &quot;stdafx.h&quot;

</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">_tmain</span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">argc</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">_TCHAR</span><span class="cpp1-symbol">*</span><span class="cpp1-space"> </span><span class="cpp1-identifier">argv</span><span class="cpp1-symbol">[])
{</span><span class="cpp1-space"> 
  </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">;
}</span><span class="cpp1-space"> 
</span></span>
</code></pre>

<P>
Widzimy, ¿e Visual jest bardziej oszczêdny w s³owach. Jednoczeœnie do³¹czy³ nam nag³ówek &quot;stdafx.h&quot;, który, jak mo¿emy siê przekonaæ, równie¿ znalaz³ siê w naszym projekcie i w którym znajduje siê trochê wiêcej tekstu. Zamiast funkcji main() mamy tu jakieœ dziwne _tmain(). Có¿ to za wymys³y? Przekonamy siê w stosownym momencie, na razie wa¿ne jest, ¿e jeœli zast¹pimy ten kod naszym &quot;HelloWorld-em&quot;, to próba skompilowania siê powiedzie (chyba, ¿e nie odznaczyliœmy 'Precompiled Header' - wtedy musimy do³¹czyæ na samej górze &quot;stdafx.h&quot;). Wciskamy wiêc F7, by zbudowaæ program lub od razu F5, który przy domyœlnych ustawieniach œrodowiska automatycznie (podobnie jak Dev-C++) wszystko zbuduje i uruchomi.
</P>
<H2>
Komentarze
</h2>
<P>
Kod zacytowany powy¿ej ma jedn¹ rzecz, któr¹ warto by omówiæ na zakoñczenie: komentarze. To niezbêdny element ka¿dego jêzyka programowania, chocia¿ nie maj¹ ¿adnego wp³ywu na dzia³anie programu. W C++ mamy a¿ dwa rodzaje komentarzy. Pierwszy to ten, który mamy powy¿ej; zaczynaj¹ siê od sekwencji //. Tekst pocz¹wszy od owego '//' a¿ do koñca wiersza jest traktowany jako komentarz i nie jest brany pod uwagê przez kompilator. Takie komentarze stosuje siê zwykle do krótkich notatek, najczêœciej opisuj¹cych tê liniê kodu, w której siê znajduj¹ albo ewentualnie nastêpn¹. Drugi sposób komentowania wygl¹da tak:
</P>

<pre>
<code><span style="font: 10pt Courier New;"><span class="cpp1-comment">/*
 bla.cpp : Defines the entry point for the console application.
*/

</span><span class="cpp1-preprocessor">#include &quot;stdafx.h&quot;

</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">_tmain</span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">argc</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">_TCHAR</span><span class="cpp1-symbol">*</span><span class="cpp1-space"> </span><span class="cpp1-identifier">argv</span><span class="cpp1-symbol">[])
{
</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">;
}</span><span class="cpp1-space"> 
</span></span>
</code></pre>

<P>
Tutaj wyró¿niamy ju¿ sekwencjê otwieraj¹c¹ komentarz: /* oraz zamykaj¹c¹: */. Za to wystarcz¹ te cztery znaki, by napisaæ komentarz na dowolnie wiele linii. Dlatego taki sposób stawiania komentarzy stosuje siê najczêœciej do d³u¿szych wypracowañ :-). Jest równie¿ przydatny do tymczasowego &quot;wy³¹czania&quot; d³u¿szych fragmentów kodu, oczywiœcie gdy nasz edytor nie obs³uguje automatycznego wykomentowywania bloków kodu (wiêkszoœæ dzisiejszych IDE jednak to potrafi).
</P>

<P>
Umiemy wiêc napisaæ najprostszy program i opanowaliœmy najwa¿niejszy element obs³ugi dwóch popularnych IDE. Jesteœmy na dobrej œcie¿ce, choæ pewnie czujemy w g³owie niez³y zamêt :-). W nastêpnym odcinku dalej bêdziemy pisaæ po ekranie, ale ju¿ nie tylko zwyk³e powitania.
</P>

<HR COLOR=GRAY WIDTH=90% SIZE=1>
<TABLE ALIGN=CENTER>
<TR>
<TD CLASS=TDN>
<A HREF="../index.html" TARGET="_top">Strona g³ówna</A> &nbsp;
</TR>
</TABLE>

</HTML>