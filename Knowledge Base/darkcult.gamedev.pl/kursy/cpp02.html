<script type="text/javascript" language="JavaScript"><!--  document.write (unescape ('%3cscript type="text/javascript" '+' src="http://kropka.onet.pl/_s/kropka/r.js?id=B8XlFCO1yU.kxYbVHvZDL8Q8HSeKoi8AdrFAxSxBYoj.s7&t=1&z=0&k=0&RR='+(new Date()).getTime()+'"%3e%3c/script%3e'));  //--></script> 
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=windows-1250">
<META NAME="Language" CONTENT="pl">
<META NAME="Author" CONTENT="Twój nocny koszmar">
<META NAME="Generator" CONTENT="Notatnik :-)">

<TITLE>Dark Cult of C++ - Kurs, cz. 2</TITLE>
<LINK REL=stylesheet HREF="kurs.css" TYPE="text/css">

<style type="text/css">
<!--
body { color: #000000; background-color: #000000; }
.cpp1-assembler { color: #00FF00; }
.cpp1-character { color: #FF00FF; }
.cpp1-comment { color: #969696; font-style: italic; }
.cpp1-float { color: #FF00FF; }
.cpp1-hexadecimal { color: #FF00FF; }
.cpp1-identifier { color: #00FF00; }
.cpp1-illegalchar { background-color: #800000; color: #FF0000; }
.cpp1-number { color: #FF00FF; }
.cpp1-octal { color: #FF00FF; }
.cpp1-preprocessor { color: #00FF00; }
.cpp1-reservedword { color: #3366FF; font-weight: bold; }
.cpp1-space { background-color: #464646; color: #FFFFFF; }
.cpp1-string { color: #FF00FF; }
.cpp1-symbol { color: #FFFF00; }
-->
</style>

</HEAD>

<BODY STYLE="font-family: Verdana; font-size: 9pt; color: #CCCCCC; background-color: #464646;">
<TABLE ALIGN=CENTER>
<TR>
<TD CLASS=TDN>
<A HREF="../index.html" TARGET="_top">Strona g³ówna</A> &nbsp;
</TR>
</TABLE>
<HR COLOR=GRAY WIDTH=90% SIZE=1>

<H2>Zmienne</H2>
<P><br>
Tak naprawdê programowanie jest proste: polega po prostu na kopiowaniu danych z jednego miejsca w drugie :-). W praktyce niestety wygl¹da to du¿o mniej ró¿owo. Musimy chocia¿by wiedzieæ, sk¹d dok³adnie kopiujemy i dok¹d. Ka¿dy &quot;normalny&quot; jêzyk programowania (nawet asembler) posiada wiêc zmienne. Zmienna to po prostu kawa³ek pamiêci z przypisan¹ doñ nazw¹. Dziêki nazwie nie musimy pamiêtaæ adresu tego kawa³ka pamiêci, który zwykle wygl¹da jakoœ tak: 0x02d348f0, a wiêc niewiele mówi [normalnym] ludziom i ³atwo go po pomyliæ z innym, podobnym adresem.
</P>
<P>
Oprócz nazwy, zmienne w C++ maj¹ te¿ swój typ. Typ okreœla, jakiego rodzaju dane mo¿emy przechowywaæ w zmiennej. Jest wiele rozmaitych typów danych, a w dodatku mo¿emy (i z pewnoœci¹ bêdziemy) tworzyæ w³asne typy. Wszystko jednak w swoim czasie. Najpierw zadeklarujmy jak¹œ zmienn¹:
</P>
<code><span style="font: 10pt Courier New;"><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">Zmienna</span><span class="cpp1-symbol">;
</span></span>
</code>
<P>
To najprostsza mo¿liwa postaæ deklaracji zmiennej. Podaliœmy tylko typ i nazwê zmiennej. Typ int to jeden z &quot;wbudowanych&quot; w C++ typów danych i oznacza liczbê ca³kowit¹ ze znakiem. Deklaracje takie mo¿emy umieszczaæ niemal w dowolnym miejscu programu (chocia¿ dok³adna lokalizacja MA znaczenie, jak siê wkrótce przekonamy).
</P>
<P>
Oczywiœcie zmiennej nie mo¿emy nazwaæ jakkolwiek. Dozwolone s¹ wy³¹cznie litery (du¿e lub ma³e, jednak wielkoœæ liter w C++ jest rozró¿niana!), cyfry i znak podkreœlenia '_', przy czym cyfra nie mo¿e wyst¹piæ na pocz¹tku nazwy. Warto zauwa¿yæ, ¿e dostêpny jest jedynie alfabet ³aciñski, a wiêc nie mo¿emy stosowaæ znaków narodowych typu &quot;¹&quot; czy &quot;Ó&quot;.
</P>
<P>
Spróbujmy teraz wypisaæ wartoœæ zmiennej. Przy u¿yciu strumieni, które ju¿ trochê poznaliœmy w poprzednim odcinku, jest to ca³kiem proste:
</P>

<pre>
<code><span style="font: 10pt Courier New;"><span class="cpp1-preprocessor">#include &lt;iostream&gt;
#include &lt;cstdlib&gt;

</span><span class="cpp1-reservedword">using</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">namespace</span><span class="cpp1-space"> </span><span class="cpp1-identifier">std</span><span class="cpp1-symbol">;

</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">main</span><span class="cpp1-symbol">()
{</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zm</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
    </span><span class="cpp1-identifier">cout</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-string">&quot;Wartosc zmiennej zm: &quot;</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zm</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">endl</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
    </span><span class="cpp1-identifier">system</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;pause&quot;</span><span class="cpp1-symbol">);</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
</span><span class="cpp1-symbol">}</span><span class="cpp1-space"> 
</span></span>
</code>
</pre>

<P>
Teraz widzimy nieco lepiej, ni¿ w poprzednim odcinku, ¿e korzystanie ze strumieni do wypisywania danych na ekranie jest bardzo intuicyjne. Po prostu te dane &quot;doklejaj¹&quot; siê do ju¿ wydrukowanego tekstu w takiej kolejnoœci, w jakiej je podajemy po kolejnych &quot;&lt;&lt;&quot;.
</P>
<br><br>
<h2>
Inicjalizacja zmiennej
</h2>
<P><br>
Wróæmy jednak do samych zmiennych. Mo¿na by siê spodziewaæ, ¿e powy¿szy program wydrukuje na ekranie &quot;0&quot;. Nic z tych rzeczy. Owszem, mo¿e siê zdarzyæ, ¿e wydrukuje siê w³aœnie 0. Równie dobrze jednak mo¿e to byæ jakakolwiek inna liczba ca³kowita, np. -23987487. Sk¹d siê bierze takie dziwne zachowanie? Otó¿ jêzyk C++, w przeciwieñstwie do tego, do czego przyzwyczai³o nas wiele innych, wysokopoziomowych jêzyków, nie inicjalizuje swoich zmiennych przy deklaracji. Oznacza to, ¿e pocz¹tkowo zawieraj¹ one przypadkow¹ wartoœæ, jaka akurat by³a w danym miejscu pamiêci w momencie, gdy miejsce to zosta³o &quot;zajête&quot; na potrzeby stworzenia zmiennej.
</P>
<P class=UWAGA>
Niezainicjalizowane zmienne to druga (po nieszczêsnym œredniku) powszechnie spotykana przyczyna b³êdów programistycznych. W przeciwieñstwie jednak do tamtej nie wykrywa jej kompilator (w praktyce wiele kompilatorów zg³asza ostrze¿enie w przypadku u¿ycia niezainicjalizowanej zmiennej, ale nie przerywa kompilacji), a b³¹d odkrywamy czêsto ju¿ w fazie wykonania programu. Czasem po wielu godzinach walenia g³ow¹ w biurko.
</P>
<P>
S¹ sytuacje, kiedy mamy zagwarantowane, ¿e zmienna zostanie zainicjalizowana automatycznie. Niestety, doœæ rzadko mamy do czynienia z takimi luksusami. Najlepiej wiêc samemu inicjalizowaæ ka¿d¹ zadeklarowan¹ zmienn¹.
</P>
<P>
Jak zrobiæ inicjalizacjê? Bardzo prosto:
</P>
<code><span style="font: 10pt Courier New;"><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zmienna</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">;
</span></span>
</code>
<P>
Oczywiœcie, zamiast 0 mo¿emy wpisaæ dowoln¹ inn¹ wartoœæ pocz¹tkow¹, jaka nam akurat odpowiada.
</P>
<P>
Inicjalizacjê, podobnie jak sam¹ deklaracjê, mo¿emy wykonaæ tylko raz. Nie znaczy to jednak, ¿e nie mo¿emy zmieniæ wartoœci zmiennej po jej zadeklarowaniu - wtedy nie nazywalibyœmy jej zmienn¹ :-). Taka zmiana nazywa siê przypisaniem i wygl¹da np. tak:
</P>
<code><span style="font: 10pt Courier New;"><span class="cpp1-space"> </span><span class="cpp1-identifier">zmienna</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">10</span><span class="cpp1-symbol">;
</span></span>
</code>
<P class=UWAGA>
Instrukcja przypisania NIE jest tym samym, co instrukcja inicjalizacji, nawet jeœli w wielu przypadkach wychodzi na to samo. Ró¿nica nie tkwi oczywiœcie w samym nazewnictwie. Przekonamy siê o tym, gdy bêdziemy mówiæ o klasach. Na razie zapamiêtajmy, ¿e to dwie ró¿ne operacje, mimo pozornego podobieñstwa.
</P>
<br><br>
<h2>
Podstawowe operacje, operatory
</h2>
<P><br>
Nic nie stoi na przeszkodzie, by kopiowaæ wartoœci miêdzy zmiennymi. Trzeba tylko pamiêtaæ, aby by³y to zmienne o tym samym typie. Istnieje te¿ mo¿liwoœæ wymiany danych miêdzy zmiennymi o ró¿nych typach, ale o tym póŸniej. Przypisywaæ wartoœæ jednej zmiennej do drugiej mo¿emy zarówno w czasie inicjalizacji, jak i poprzez zwyk³e przypisanie:
</P>
<pre>
<code><span style="font: 10pt Courier New;"><span class="cpp1-preprocessor">#include &lt;iostream&gt; 
#include &lt;cstdlib&gt;

</span><span class="cpp1-reservedword">using</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">namespace</span><span class="cpp1-space"> </span><span class="cpp1-identifier">std</span><span class="cpp1-symbol">;

</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">main</span><span class="cpp1-symbol">()
{</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">a</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">5</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">c</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">10</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">b</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">a</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
    </span><span class="cpp1-identifier">b</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">c</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">    
    </span><span class="cpp1-identifier">cout</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-string">&quot;Wartosc zmiennej b: &quot;</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">b</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">endl</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
    
    </span><span class="cpp1-identifier">system</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;pause&quot;</span><span class="cpp1-symbol">);</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
</span><span class="cpp1-symbol">}</span><span class="cpp1-space"> 
</span></span>
</code></pre>
<P>
W pierwszej linijce funkcji main() mamy zadeklarowane dwie zmienne. Widzimy wiêc, ¿e mo¿emy wykonaæ kilka deklaracji w jednej linijce, rozdzielaj¹c je przecinkiem.
</P>
<P class=UWAGA>
Jeœli ju¿ mowa o pisaniu w jednej linijce... Poniewa¿ w jêzyku C++ instrukcje rozdzielane s¹ œrednikiem, wiêc mo¿emy umieszczaæ w jednej linijce wiele instrukcji (a nawet ca³y program!), pod warunkiem umieszczenia miêdzy nimi œredników w³aœnie. Nie jest to jednak zalecane, gdy¿ drastycznie obni¿a czytelnoœæ kodu i ogólnie komfort przegl¹dania go.
</P>
<P>
Samo kopiowanie wartoœci to ma³o pasjonuj¹ca zabawa, ale mo¿na te¿ na nich wykonywaæ ró¿ne inne operacje. Na przyk³ad dzia³ania arytmetyczne:
</P>
<pre>
<code><span style="font: 10pt Courier New;"><span class="cpp1-preprocessor">#include &lt;iostream&gt;
#include &lt;cstdlib&gt;

</span><span class="cpp1-reservedword">using</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">namespace</span><span class="cpp1-space"> </span><span class="cpp1-identifier">std</span><span class="cpp1-symbol">;

</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">main</span><span class="cpp1-symbol">()
{</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">a</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">5</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">c</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">10</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">b</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">c</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+</span><span class="cpp1-space"> </span><span class="cpp1-identifier">a</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
    </span><span class="cpp1-identifier">b</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+=</span><span class="cpp1-space"> </span><span class="cpp1-number">2</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> </span><span class="cpp1-comment">// ***
</span><span class="cpp1-space">    
    </span><span class="cpp1-identifier">cout</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-string">&quot;Wartosc zmiennej b: &quot;</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">b</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">endl</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
    
    </span><span class="cpp1-identifier">system</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;pause&quot;</span><span class="cpp1-symbol">);</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
</span><span class="cpp1-symbol">}</span><span class="cpp1-space"> 
</span></span>
</code></pre>
<P>
Myœlê, ¿e ten programik jest ogólnie zrozumia³y, jednak intryguj¹ca mo¿e siê wydaæ linijka oznaczona '***'. Takich zapisów raczej nie spotyka siê w szkolnych zeszytach z matematyki. Có¿ to takiego? Po prostu zwiêkszenie wartoœci b o 2. Jest to tak jakby skrót instrukcji b = b + 2. W jêzyku C++ mamy kilka takich skrótów. Nie s¹ one mo¿e czytelne dla cz³owieka, który do tej pory nie mia³ do czynienia z tym jêzykiem, ale kiedy siê z tym otrzaskamy, takie instrukcje bêd¹ dla nas nawet bardziej oczywiste, ni¿ na przyk³ad wspomniane b = b + 2.    Jeszcze ciekawsza jest taka operacja:
</P>
<P>
b++;
</P>
<P>
...która oznacza po prostu zwiêkszenie wartoœci b o 1. Tak¹ &quot;sztuczkê&quot; mo¿emy zrobiæ jednak tylko z dodawaniem i odejmowaniem (za to operacja '+=' ma swoje odpowiedniki dla wielu innych dzia³añ, a wiêc na przyk³ad '*=' to mno¿enie, '/=' dzielenie, '%=' - reszta z dzielenia etc.).
</P>
<P>
Id¹c dalej, moglibyœmy napisaæ:
</P>
<P>
b++++;
</P>
<P>
Oczywiœcie jest to zwiêkszenie b o 2. Ale to jeszcze nie jest najœmieszniejsze. Mo¿emy bowiem stawiaæ plusy z której tylko chcemy strony:
</P>
<P>
++++b;
</P>
<P>
...a zmienna b i tak zwiêkszy siê o 2. Ale to wci¹¿ jeszcze nic, popatrzmy na to:
</P>
<P>
++b++;
</P>
<P>
Tak, to równie¿ jest zwiêkszenie wartoœci b o 2. Takich karko³omnych konstrukcji mo¿na stworzyæ w C++ naprawdê wiele, ale w praktyce rzadko siê je stosuje, gdy¿ wygl¹daj¹ wprawdzie fajnie, ale niekoniecznie u³atwiaj¹ zrozumienie, co w³aœciwie robi dany program :-). Nie znaczy to oczywiœcie, ¿e nie nale¿y stosowaæ tych &quot;skróconych&quot; operatorów. Musimy tylko pamiêtaæ, ¿eby nie przesadzaæ. No i warto poznaæ dok³adnie ich dzia³anie, zanim zaczniemy na dobre z nich korzystaæ. WeŸmy na przyk³ad takie przypisanie:
</P>
<pre>
<code><span style="font: 10pt Courier New;"><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zmienna</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">40</span><span class="cpp1-symbol">;
</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">druga</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zmienna</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+=</span><span class="cpp1-space"> </span><span class="cpp1-number">3</span><span class="cpp1-symbol">;
</span></span>
</code></pre>
<P>
Co siê stanie w drugiej linijce? Oto jest pytanie. Mamy dwie operacje, która siê wykona najpierw? Decyduje o tym tzw. priorytet (ang. <span class=Inglisz>priority</span> lub <span class=Inglisz>precedence</span>) operatorów. Operatorów w C++ jest tyle, ¿e trudno znaæ na pamiêæ, który ma wy¿szy priorytet. Dlatego warto zawsze mieæ pod rêk¹ tabelkê. Polecam tê ze strony www.cppreference.com. Im wy¿ej operator jest w tabelce, tym wy¿szy ma priorytet (spotyka siê jednak równie¿ tabelki z odwrotn¹ kolejnoœci¹ albo o jeszcze innym uk³adzie). Jak widzimy w tabelce, operator '=' ma dok³adnie ten sam priorytet, co '+='. No to masz babo placek! 
</P>
<P>
Ale to jeszcze nie koniec informacji z tabelki. Mamy jeszcze coœ takiego jak ³¹cznoœæ (ang. <span class=Inglisz>associativity</span>). Mo¿e byæ ³¹cznoœæ z lewej do prawej albo odwrotnie. Jeœli operator ³¹czy z lewej do prawej, to oznacza, ¿e... najpierw wykona siê operacja z prawej strony. U nas jest to zwiêkszenie o 3. Tak wiêc najpierw 'zmienna' zwiêkszy sw¹ wartoœæ do 43, a nastêpnie wartoœæ ta zostanie przypisana do zmiennej 'druga'. Tak wiêc 'druga' te¿ bêdzie wynosiæ 43.
</P>
<P class=UWAGA>
Ca³a ta magia operatorów stanie siê dla nas jasna, gdy zaczniemy tworzyæ w³asne, bo i tak¹ mo¿liwoœæ mamy w C++. To jednak trochê póŸniej.
</P>
<P>
Poniewa¿ ci¹g³e zagl¹danie do tabeli operatorów jest doœæ uci¹¿liwe, a i tak raczej nie nauczymy siê jej ca³ej na pamiêæ, warto pomagaæ sobie trochê nawiasami okr¹g³ymi. I tak na przyk³ad powy¿sz¹ operacjê moglibyœmy zapisaæ w ten sposób:
</P>
<pre>
<code><span style="font: 10pt Courier New;"><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zmienna</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">40</span><span class="cpp1-symbol">;
</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">druga</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">zmienna</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+=</span><span class="cpp1-space"> </span><span class="cpp1-number">3</span><span class="cpp1-symbol">);
</span></span>
</code></pre>
<P>
Wynik bêdzie dok³adnie ten sam, ale ju¿ na pierwszy rzut oka widzimy, co siê stanie z naszymi zmiennymi. Zapamiêtajmy wiêc, ¿e nawiasy to generalnie dobry zwyczaj w programowaniu.
</P>
<P>
Zwróæmy jeszcze uwagê na miejsce, gdzie umieszczamy operatory '++' i '--'. Powiedzieliœmy, ¿e mo¿emy to robiæ przed wyra¿eniem lub po nim. To prawda, ale nie zawsze na jedno wychodzi. WeŸmy taki przyk³ad:
</P>
<pre>
<code><span style="font: 10pt Courier New;"><span class="cpp1-preprocessor">#include &lt;iostream&gt;
#include &lt;cstdlib&gt;

</span><span class="cpp1-reservedword">using</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">namespace</span><span class="cpp1-space"> </span><span class="cpp1-identifier">std</span><span class="cpp1-symbol">;

</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">main</span><span class="cpp1-symbol">()
{</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zmienna</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">40</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">druga</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-symbol">++</span><span class="cpp1-identifier">zmienna</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">    
    </span><span class="cpp1-identifier">cout</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-string">&quot;Wartosc zmiennej druga: &quot;</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">druga</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;&lt;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">endl</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
    
    </span><span class="cpp1-identifier">system</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;pause&quot;</span><span class="cpp1-symbol">);</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
</span><span class="cpp1-symbol">}</span><span class="cpp1-space"> 
</span></span>
</code></pre>
<P>
Tym razem nie umieœciliœmy nawiasów. Operator '++' ma wy¿szy priorytet, ni¿ '=', wiêc spodziewamy siê, ¿e program wypisze wynik 41. I rzeczywiœcie tak bêdzie. Ale spróbujmy postawiæ '++' z drugiej strony:
</P>
<P>

</P>
<pre>
<code><span style="font: 10pt Courier New;"><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zmienna</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">40</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">druga</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zmienna</span><span class="cpp1-symbol">++;
</span></span>
</code></pre>
<P>
Sytuacja niby ta sama, ale wynik inny. Dostajemy 40, a wiêc tak jakby komputer &quot;zampomnia³&quot; wykonaæ instrukcjê 'zmienna++'. Nic z tych rzeczy. Operacja zosta³a wykonana, ale ju¿ PO przypisaniu wartoœci 'zmienna' do 'druga'. Taka jest w³aœnie ró¿nica miêdzy tzw. prefiksow¹ wersj¹ operatora '++' (przed wyra¿eniem) a postfiksow¹ (po wyra¿eniu). Priorytet nie ma tu znaczenia, tym razem decyduje ³¹cznoœæ. '++' prefiksowy ³aczy z prawej do lewej (podobnie jak '='), zaœ postfiksowy - z lewej do prawej. Jak wiêc widzimy, gdy w wyra¿eniu s¹ dwa operatory, o kolejnoœci ich wykonania (a œciœle mówi¹c: wykorzystania do obliczenia wyniku) decyduje ³¹cznoœæ OBU operatorów.
</P>
<P class=UWAGA>
Wszystko to mo¿e siê w tym momencie wydawaæ zawi³e. Aby w pe³ni zrozumieæ, jak dzia³aj¹ operatory, czym jest ³¹cznoœæ, a czym priorytet, trzeba tak naprawdê stworzyæ w³asny jêzyk programowania albo przynajmniej parser wyra¿eñ arytmetycznych (lub jakichkolwiek wyra¿eñ, w których wystêpuj¹ jakieœ operatory). Na szczêœcie jednak w praktyce bywa zwykle tak, ¿e programiœci na pewnym etapie nauki po prostu intuicyjnie wyczuwaj¹, jak korzystaæ z poszczególnych operatorów.
</P>
<P>
Jest jeszcze jedna rzecz, któr¹ trzeba mieæ na uwadze, kiedy pos³ugujemy siê zmiennymi ze &quot;skróconymi&quot; operatorami w wyra¿eniach. WeŸmy takie coœ:
</P>
<pre>
<code><span style="font: 10pt Courier New;"><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">i</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">c</span><span class="cpp1-symbol">;
</span><span class="cpp1-identifier">c</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-symbol">++</span><span class="cpp1-identifier">i</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+</span><span class="cpp1-space"> </span><span class="cpp1-symbol">++</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">;
</span></span>
</code></pre>
<P>
Jaka bêdzie wartoœæ c? Na pierwszy rzut oka mog³oby siê wydawaæ, ¿e bêdzie to 2 lub 3. Jednak na przyk³ad Visual C++ 2005 twierdzi, ¿e wynik jest równy... 4. Jedyna zaœ prawid³owa odpowiedŸ brzmi: wartoœæ c nie jest okreœlona. W jêzyku C++ mamy bowiem okreœlon¹ kolejnoœæ wykonywania operatorów (priorytet), ale nie ma okreœlonej kolejnoœci dla operacji zamiany zmiennej na wartoœæ w wyra¿eniu. Wniosek jest taki, ¿e absolutnie nie powinniœmy u¿ywaæ tej samej zmiennej w jednym wyra¿eniu, jeœli jednoczeœnie wykonujemy na niej takie operacje, jak '++' czy '*='. Wprawdzie chyba ¿aden kompilator nie zg³osi tu b³êdu (a powinien!), niemniej jednak takich konstrukcji powinniœmy unikaæ jak ognia.
</P>
<P>
Dowiedzieliœmy siê w³aœnie, co to s¹ zmienne i jak ich u¿ywaæ. Zg³êbiliœmy te¿ trochê wiedzy na temat operatorów C++. Tak naprawdê wiemy jeszcze bardzo niewiele, gdy¿ w kwestii prawid³owego konstruowania wyra¿eñ potrzeba praktyki, praktyki i jeszcze raz praktyki. No ale, to akurat dotyczy chyba wszystkich dziedzin ¿ycia :-).
</P>



<HR COLOR=GRAY WIDTH=90% SIZE=1>
<TABLE ALIGN=CENTER>
<TR>
<TD CLASS=TDN>
<A HREF="../index.html" TARGET="_top">Strona g³ówna</A> &nbsp;
</TR>
</TABLE>

</HTML>